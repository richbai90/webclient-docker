var undefined;var app=(opener)?opener:top;var jqDoc=$(document);var sys=app.sys;var eAppWorkspaceTopToResize=null;var iamready=false;var eAppWorkspaceResizerMover=null;var eAppWorkspaceFloatDiv=null;var intWorkspaceTopToResizeOrginHeight=0;var bWorkspaceResize=false;var _arrAreaHeights=new Array();function viewport(){var e=window,a="inner";if(!("innerWidth" in window)){a="client";e=(!app.isIE)?document.documentElement:document.body;}return{width:e[a+"Width"],height:e[a+"Height"]};}function initialise(){if(app.browserClassName!=""){jqDoc.find("body").addClass(app.browserClassName);}resize_workspace();iamready=true;top.debugend(strControl,"LOAD WORKSPACE");}function resize_workspace(){if(app._swcore.bHidingMenus){return;}sizeup_workspace_areas();}function sizeup_workspace_areas(intDivNewHeight,eAdjustedDiv){var intTotalHeight=0;var intWorkspaceResizerHeight=0;var counter=0;var vp=viewport();var viewableWidth=(app.isIE)?vp.width:vp.width+4;var viewableHeight=vp.height;var lastDiv=null;var divArea=document.getElementById("td_workspace_"+counter);while(divArea!=null){intDivHeight=(eAdjustedDiv==divArea)?intDivNewHeight:divArea.offsetHeight;if(_arrAreaHeights[counter]==undefined){_arrAreaHeights[counter]=intDivHeight;}if(eAdjustedDiv==divArea){_arrAreaHeights[counter]=intDivNewHeight;}intDivHeight=_arrAreaHeights[counter];divArea.style.height=intDivHeight;divArea.style.width=viewableWidth;resize_controls(divArea,intDivHeight-2,viewableWidth);lastDiv=divArea;counter++;divArea=document.getElementById("td_workspace_"+counter);if(divArea!=null){intWorkspaceResizerHeight+=4;intTotalHeight+=intDivHeight;}}if(lastDiv!=null){var intLastDivHeight=viewableHeight-lastDiv.offsetTop;if(intLastDivHeight<40){intLastDivHeight=40;}if(!app.isIE){lastDiv.style.height=intLastDivHeight;if(lastDiv.firstChild.tagName=="IFRAME"){lastDiv.firstChild.style.width=viewableWidth-6;if(app.isFirefox){lastDiv.firstChild.style.height=intLastDivHeight-3;}else{lastDiv.firstChild.style.height=intLastDivHeight-2;}}}else{lastDiv.style.height=intLastDivHeight;}lastDiv.style.width=viewableWidth;resize_controls(lastDiv,intLastDivHeight-1,viewableWidth);var oChild=lastDiv.firstChild;if(oChild!=null){if(oChild.getAttribute){var fit=oChild.getAttribute("fitparent");if(fit=="1"){oChild.style.height=intLastDivHeight-2;}}}}}document.iMouseLeft=0;document.iMouseTop=0;function _track_documentmouse(e){document.iMouseLeft=(window.Event)?e.pageX:event.clientX;document.iMouseTop=(window.Event)?e.pageY:event.clientY;if(bWorkspaceResize){eAppWorkspaceResizerMover.style.top=document.iMouseTop-1;}else{if(app.boolDataTableColResize){app.datatable_track_cursor();}}app._track_appwide_mouse_cursor(true,document.iMouseLeft,document.iMouseTop,true);return true;}function _trap_document_mouseup(e){app._trap_document_mouseup(e);}function start_resize_workspace(oBar,intTopDivNumber,intBottomDivNumber){eAppWorkspaceFloatDiv=document.getElementById("app-layout-float-div");eAppWorkspaceFloatDiv.style.display="block";eAppWorkspaceResizerMover=document.getElementById("app-layout-vmover");eAppWorkspaceResizerMover.style.display="block";eAppWorkspaceTopToResize=document.getElementById("td_workspace_"+intTopDivNumber);intWorkspaceTopToResizeOrginHeight=app.eleTop(eAppWorkspaceTopToResize)+eAppWorkspaceTopToResize.offsetHeight;eAppWorkspaceResizerMover.style.left=2;if(app.isIE){eAppWorkspaceResizerMover.style.width=eAppWorkspaceResizerMover.offsetWidth-4;}bWorkspaceResize=true;}function end_resize_workspace(e){if(bWorkspaceResize){bWorkspaceResize=false;eAppWorkspaceResizerMover.style.display="none";eAppWorkspaceFloatDiv.style.display="none";var intNewHeight=document.iMouseTop-1;if(intNewHeight<10){intNewHeight=10;}if(intNewHeight>intWorkspaceTopToResizeOrginHeight){var iDiff=(intNewHeight-intWorkspaceTopToResizeOrginHeight);intNewHeight=eAppWorkspaceTopToResize.offsetHeight+iDiff;}else{var iDiff=(intWorkspaceTopToResizeOrginHeight-intNewHeight);intNewHeight=eAppWorkspaceTopToResize.offsetHeight-iDiff;}if(intNewHeight>100){sizeup_workspace_areas(intNewHeight,eAppWorkspaceTopToResize);}}else{if(app.boolDataTableColResize){app.datatable_finish_resize_header();}}}function getElement(strID){return document.getElementById(strID);}function resize_controls(eParentholder,intNewHeight,iResizeToWidth){iResizeToWidth=(app.isIE)?iResizeToWidth-4:iResizeToWidth-2;var array_resize_eles=app.get_children_by_att_value(eParentholder,"resizeme","1",true);for(var x=0;x<array_resize_eles.length;x++){var resizeElement=array_resize_eles[x];if(resizeElement.style.display=="none"){continue;}switch(resizeElement.getAttribute("controltype")){case"datatable-holder":resize_datatable_holder(resizeElement,eParentholder,intNewHeight,iResizeToWidth);break;case"tabcontrol-holder":resize_tabcontrol_holder(resizeElement,eParentholder,intNewHeight,iResizeToWidth);break;default:break;}}}function get_workspace_controls_by_type(strType){var return_eles=new Array();var array_resize_eles=document.getElementsByTagName("*");for(var x=0;x<array_resize_eles.length;x++){var resizeElement=array_resize_eles[x];switch(resizeElement.getAttribute("controltype")){case strType:return_eles[return_eles.length++]=resizeElement;break;default:break;}}return return_eles;}function resize_datatable_holder(oEle,eParentholder,iResizeToHeight,iResizeToWidth){if(iResizeToHeight<=0){return;}var oHeaderHolder=app.get_parent_child_by_id(oEle,"table_columns");var oDataTable=app.get_parent_child_by_id(oEle,"div_data");var oFiltersHolder=app.get_parent_child_by_id(oEle,"table_filters");var iFilterHeight=(oFiltersHolder!=null)?oFiltersHolder.offsetHeight:0;var bTab=false;if(eParentholder.className=="tab-item-workspace-selected"){bTab=true;if(iResizeToHeight==undefined){iResizeToHeight=eParentholder.offsetHeight;}var altWidth=(app.isIE&&!app.isIE10Above)?iResizeToWidth:iResizeToWidth-9;oHeaderHolder.style.width=altWidth;oDataTable.style.width=altWidth;if(app.isIE){oFiltersHolder.style.width=altWidth;}try{oDataTable.style.height=iResizeToHeight-oHeaderHolder.offsetHeight-20-iFilterHeight;}catch(e){}}else{var iNewHeight=(iResizeToHeight==undefined)?eParentholder.offsetHeight:iResizeToHeight;var iWidthAdjust=(app.isIE)?4:-4;var iHeightAdjust=(app.isIE)?0:5;oHeaderHolder.style.width=iResizeToWidth+iWidthAdjust;oDataTable.style.width=iResizeToWidth+iWidthAdjust;try{oDataTable.style.height=iNewHeight-oHeaderHolder.offsetHeight-iHeightAdjust-iFilterHeight;}catch(e){}}}function resize_tabcontrol_holder(oEle,eParentholder,iResizeToHeight,iResizeToWidth){if(iResizeToHeight<=0){return;}if(iResizeToWidth<=0){return;}var tiArea=app.get_parent_child_by_class(oEle,"tabitemsholder");var tiWorkArea=app.get_parent_child_by_class(oEle,"tab-item-workspace-selected");var intNewHeight=iResizeToHeight-tiArea.offsetHeight;if(app.isSafari){}else{try{tiWorkArea.style.height=iResizeToHeight-tiArea.offsetHeight-21;}catch(e){}}if(app.isIE){tiWorkArea.style.width=iResizeToWidth-7;}oEle.style.height=iResizeToHeight;oEle.style.width=iResizeToWidth;resize_controls(tiWorkArea,intNewHeight,iResizeToWidth-4);}function _handlekeyup(oEv){if(app.isFirefox){if(top.__CURRENT_SELECTED_TABLE_ROW){try{app.datatable_keyup(top.__CURRENT_SELECTED_TABLE_ROW.parentNode.parentNode.parentNode,oEv);}catch(e){}}}}function _handlekeydown(oEv){if(app._handle_portal_keystrokes(oEv)){if(app.isFirefox){if(top.__CURRENT_SELECTED_TABLE_ROW){try{app.datatable_keydown(top.__CURRENT_SELECTED_TABLE_ROW.parentNode.parentNode.parentNode,oEv);}catch(e){}}}}}var EV_LASTKEY_PRESSED="";var EV_BOOL_CTRL_PRESSED="";var EV_BOOL_SHIFT_PRESSED="";var EV_BOOL_ALT_PRESSED="";function getKeyPressed(e){if(!e){e=(window.Event)?window.Event:window.event;}if(e.keyCode){code=e.keyCode;}else{if(e.which){code=e.which;}}EV_LASTKEY_PRESSED=code;EV_BOOL_CTRL_PRESSED=e.shiftKey;EV_BOOL_CTRL_PRESSED=e.ctrlKey;EV_BOOL_SHIFT_PRESSED=e.shiftKey;EV_BOOL_ALT_PRESSED=e.altKey;}function docKeyReleased(e){if(!e){e=(window.Event)?window.Event:window.event;}EV_LASTKEY_PRESSED="";EV_BOOL_CTRL_PRESSED=e.shiftKey;EV_BOOL_CTRL_PRESSED=e.ctrlKey;EV_BOOL_SHIFT_PRESSED=e.shiftKey;EV_BOOL_ALT_PRESSED=e.altKey;}var lastDocW=0;var lastDocH=0;function document_resize(){var info=app.getPageSize();if(lastDocW==0){lastDocW=info.width;lastDocH=info.height;}if((lastDocH!=info.height)||(lastDocW!=info.width)){resize_workspace();lastDocW=info.width;lastDocH=info.height;}}function cancel_context_menus(){if(app._current_table_contextmenu_item!=null){app._current_table_contextmenu_item.style.display="none";app._current_table_contextmenu_item=null;}}if(window.Event&&!app.isIE){document.captureEvents(Event.MOUSEMOVE);document.captureEvents(Event.MOUSEUP);}document.onmousemove=_track_documentmouse;document.onmouseup=_trap_document_mouseup;