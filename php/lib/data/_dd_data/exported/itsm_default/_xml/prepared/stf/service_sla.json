{"espForm":{"configuration":{"settings":{"name":"service_sla","title":"Service Level for Service","options":{"allowResize":"true","showMenubar":"false","showToolbar":"true","showStatusBar":"false"}},"tables":{"table":[{"name":"sc_sla","type":"Main Details Table","flags":"2"},{"name":"itsmsp_slad","type":"Related Table","mainDetailsColumn":"fk_sla","flags":"3","assignments":{"assignment":{"expression":"itsmsp_slad.appcode","masterRecordColumn":"sc_sla.appcode"}}}]},"javascript":{"methods":{"method":[{"name":"(Globals)","code":"var _swdoc = (IsObjectDefined(\"_bHtmlWebClient\"))?top:_swdoc;\nvar origValue = \"\";\nvar origPrice = \"\";\nfunction MF()\n{\n\treturn _swdoc.mainform;\n}\nfunction oSLA()\n{\n\treturn _swdoc.sc_sla;\n}\n\nfunction setup_form_fields()\n{\n\tvar fk_service = _swdoc.GetArg(\"fk_service\");\n\tif(fk_service!=\"\")\n\t{\n\t\tsc_sla.fk_service = fk_service;\n\t}\n\telse\n\t{\n\t\tvar fk_subscription = _swdoc.GetArg(\"fk_subscription\");\n\t\tif(fk_subscription!=\"\")\n\t\t{\n\t\t\t_swdoc.oSLA().fk_subscription = fk_subscription;\n\t\t\tapp._ema(_swdoc.MF().fld_sla,false);\n\t\t\tapp._evi(_swdoc.MF().fld_sla,false);\n\t\t\t\t\t\t\n\t\t}\n\t}\n\t\/\/SG 13\/05\/2014 - Disable SLA Selection for existing associated SLAs\n\tif(sc_sla.fk_sla != \"\") app._een(_swdoc.MF().fld_sla, false);\n\n\t_swdoc.origValue = _swdoc.oSLA().cost;\n\t_swdoc.origPrice = _swdoc.oSLA().price;\n\t_swdoc.UpdateFormFromData();\n\t_swdoc.ResetModiedFlag(\"sc_sla\");\n\t\n\t\/\/-- Filter out SLAs already assigned to the app.service\n\tvar fk_used_slas = _swdoc.GetArg(\"fk_used_slas\");\n\tif(fk_used_slas!=\"\")\n\t\tapp._slf(_swdoc.MF().fld_sla,\"used=\"+fk_used_slas);\n}"},{"name":"OnSaveData","code":"OnSaveData()\n{\n\t\/\/ TODO: Add your event handler code here\n\tvar oSLAD = app.g.get_record(\"itsmsp_slad\", _swdoc.oSLA().fk_sla);\n\t_swdoc.oSLA().fk_sla_name = oSLAD.slad_id;\n\t_swdoc.oSLA().appcode = app.itsm.get_session_param(\"dataset\");\n\treturn true;\n}"}]}}},"layouts":{"layout":[{"appearance":{"width":"390","height":"162","backgroundColor":"#ffffff","fillColour":"#ffffff","textColour":"#000000","font":{"@size":"8","#text":"Arial"}},"controls":{"control":[{"general":{"type":"FieldName","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"0","caption":"SLA","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Right","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"15","left":"86","right":"118","bottom":"31"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"data":{"binding":"sc_sla.fk_sla"},"controlInfo":{"mouseOverCursor":"Window Default"}},{"general":{"name":"fld_sla","type":"Field"},"appearance":{"index":"1","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"Rectangle"},"objectPlacement":{"position":{"top":"15","left":"128","right":"378","bottom":"33"},"scaling":{"top":"0","left":"0","right":"100","bottom":"0"}},"data":{"binding":"sc_sla.fk_sla"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Distinct Pick List","flags":{"invisible":"false","readOnly":"false","mandatory":"true","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","comboAutoUpdate":"false","comboNewValues":"true","pickListOrderDesc":"false"},"textLineCount":"0","textInputFormat":"Text","properties":{"disabledBackgroundColor":"#eeeeee","sqlSource":"swdata","distinctTable":"itsmsp_slad","distinctColumn":"pk_slad_id","displayColumn":"slad_id","borderColor":"#c0c0c0","storedQuery":"catalog.filter_itsm_sla","listFilter":"_swc_archive=0"}}},{"general":{"name":"Label1","type":"FieldName","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"2","caption":"Cost","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Right","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"39","left":"88","right":"118","bottom":"55"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"data":{"binding":"sc_sla.cost"},"controlInfo":{"mouseOverCursor":"Window Default"}},{"general":{"name":"Field1","type":"Field"},"appearance":{"index":"3","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"Rectangle"},"objectPlacement":{"position":{"top":"39","left":"128","right":"378","bottom":"57"},"scaling":{"top":"0","left":"0","right":"100","bottom":"0"}},"data":{"binding":"sc_sla.cost"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Text Edit","textLineCount":"0","textInputFormat":"Text","properties":{"defaultValue":"0.00","image":"#eeeeee","borderColor":"#c0c0c0","disabledBackgroundColor":"#eeeeee"}}},{"general":{"name":"Label2","type":"FieldName","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"4","caption":"Price","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Right","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"63","left":"88","right":"118","bottom":"79"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"data":{"binding":"sc_sla.price"},"controlInfo":{"mouseOverCursor":"Window Default"}},{"general":{"name":"Field2","type":"Field"},"appearance":{"index":"5","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"Rectangle"},"objectPlacement":{"position":{"top":"63","left":"128","right":"378","bottom":"81"},"scaling":{"top":"0","left":"0","right":"100","bottom":"0"}},"data":{"binding":"sc_sla.price"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Text Edit","textLineCount":"0","textInputFormat":"Text","properties":{"defaultValue":"0.00","image":"#eeeeee","borderColor":"#c0c0c0","disabledBackgroundColor":"#eeeeee"}}},{"general":{"name":"Label3","type":"FieldName","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"6","caption":"Mark Up","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Left","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"410","left":"280","right":"327","bottom":"426"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"data":{"binding":"sc_sla.mark_up"},"controlInfo":{"mouseOverCursor":"Window Default","flags":{"invisible":"true","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","multiLine":"false"}}},{"general":{"name":"Field3","type":"Field"},"appearance":{"index":"7","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"3-D Sunken"},"objectPlacement":{"position":{"top":"410","left":"320","right":"746","bottom":"426"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"data":{"binding":"sc_sla.mark_up"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"true","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false"},"textLineCount":"0","textInputFormat":"Text","properties":{"defaultValue":"0","image":"#eeeeee","disabledBackgroundColor":"#eeeeee"}}},{"general":{"name":"Label4","type":"FieldName","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"8","caption":"Total Cost","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Left","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"430","left":"270","right":"326","bottom":"446"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"data":{"binding":"sc_sla.total_cost"},"controlInfo":{"mouseOverCursor":"Window Default","flags":{"invisible":"true","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","multiLine":"false"}}},{"general":{"name":"Field4","type":"Field"},"appearance":{"index":"9","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"3-D Sunken"},"objectPlacement":{"position":{"top":"430","left":"330","right":"752","bottom":"446"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"data":{"binding":"sc_sla.total_cost"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"true","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false"},"textLineCount":"0","textInputFormat":"Text","properties":{"defaultValue":"0.00","image":"#eeeeee","disabledBackgroundColor":"#eeeeee"}}},{"general":{"name":"Label18","type":"FieldName","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"10","caption":"Priority","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Right","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"88","left":"44","right":"121","bottom":"106"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"data":{"binding":"config_itemi.fk_sla"},"controlInfo":{"mouseOverCursor":"Window Default","flags":{"invisible":"false","skipTabStop":"false","disabled":"true","protected":"false","noMacroExpand":"false","multiLine":"false"}}},{"general":{"name":"fld_fk_sla1","type":"Field"},"appearance":{"index":"11","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"Rectangle"},"objectPlacement":{"position":{"top":"88","left":"129","right":"379","bottom":"106"},"scaling":{"top":"0","left":"0","right":"100","bottom":"0"}},"data":{"binding":"sc_sla.priority"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Distinct Pick List","flags":{"invisible":"false","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"true","protected":"false","noMacroExpand":"false","readOnlyInit":"false","comboAutoUpdate":"false","comboNewValues":"true","pickListOrderDesc":"false"},"textLineCount":"0","textInputFormat":"Text","properties":{"activeTextColor":"#eeeeee","listItems":"None|Low|Medium|High|Extreme|","disabledBackgroundColor":"#eeeeee","borderColor":"#c0c0c0","sqlSource":"swdata","distinctTable":"itsmsp_slad_priority","distinctColumn":"fk_priority","listFilter":"_swc_flg_sla=1&_swc_fk_slad=&[sc_sla.fk_sla]","extraOptions":"[Use SLA Default Priority]","storedQuery":"common.filterByTableValues"}}},{"general":{"name":"Label5","type":"FieldName","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"12","caption":"Downtime Breach","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Right","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"111","left":"4","right":"121","bottom":"127"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"data":{"binding":"sc_sla.dt_agreed"},"controlInfo":{"mouseOverCursor":"Window Default"}},{"general":{"name":"Field5","type":"Field"},"appearance":{"index":"13","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"Rectangle"},"objectPlacement":{"position":{"top":"110","left":"129","right":"379","bottom":"128"},"scaling":{"top":"0","left":"0","right":"100","bottom":"0"}},"data":{"binding":"sc_sla.dt_agreed"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Text Edit","textLineCount":"0","textInputFormat":"Text","properties":{"imageHSpace":"#eeeeee","disabledBackgroundColor":"#eeeeee","borderColor":"#c0c0c0"}}},{"general":{"name":"Label6","type":"FieldName","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"14","caption":"Downtime Warning","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Right","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"133","left":"3","right":"121","bottom":"149"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"data":{"binding":"sc_sla.dt_target"},"controlInfo":{"mouseOverCursor":"Window Default"}},{"general":{"name":"Field6","type":"Field"},"appearance":{"index":"15","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"Rectangle"},"objectPlacement":{"position":{"top":"132","left":"129","right":"379","bottom":"150"},"scaling":{"top":"0","left":"0","right":"100","bottom":"0"}},"data":{"binding":"sc_sla.dt_target"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Text Edit","textLineCount":"0","textInputFormat":"Text","properties":{"imageHSpace":"#eeeeee","borderColor":"#c0c0c0","disabledBackgroundColor":"#eeeeee"}}}]},"javascript":{"methods":{"method":[{"name":"OnFormLoaded","code":"OnFormLoaded(bDataReloaded)\n{\n\t\/\/ TODO: Add your event handler code here\n\tif(_swdoc.MF().fld_sla.value != \"\")\n\t{\n\t\tapp._een(_swdoc.MF().elements['fld_fk_sla1'] , true);\n\t\tapp._een(_swdoc.MF().elements['Label18'] , true);\n\t}\t\n\t_swdoc.setup_form_fields();\n\t\n}"},{"name":"Field1_OnValueChanged","code":"Field1_OnValueChanged(strValue)\n{\n\t\/\/ TODO: Add your event handler code here\n\tif(isNaN(strValue))\n\t\tsc_sla.cost = _swdoc.origValue;\n\telse\n\t{\n\t\tsc_sla.cost = app.format_float_to_decimal_str(strValue);\n\t\tsc_sla.total_cost = sc_sla.cost;\n\t\t_swdoc.origValue = sc_sla.cost;\n\t}\n\t_swdoc.UpdateFormFromData();\n\n}"},{"name":"Field2_OnValueChanged","code":"Field2_OnValueChanged(strValue)\n{\n\t\/\/ TODO: Add your event handler code here\n\tif(isNaN(strValue))\n\t\tsc_sla.price = _swdoc.origPrice;\n\telse\n\t{\n\t\tsc_sla.price = app.format_float_to_decimal_str(strValue);\n\t\t_swdoc.origPrice = sc_sla.price;\n\t}\n\t_swdoc.UpdateFormFromData();\n\n}"},{"name":"fld_sla_OnValueChanged","code":"fld_sla_OnValueChanged(strValue)\n{\n\t\/\/ TODO: Add your event handler code here\n\tvar boolEnable = strValue!=\"\";\n\n\tapp._een(_swdoc.MF().fld_fk_sla1,boolEnable);\n\tapp._een(_swdoc.MF().Label18,boolEnable);\n\t_swdoc.UpdateFormFromData();\n\n\n}"}]}}},{"appearance":{"width":"360","height":"220","backgroundColor":"#ffffff","fillColour":"#ffffff","textColour":"#000000","font":{"@size":"8","#text":"Arial"}},"javascript":{}}]}}}