{"espForm":{"configuration":{"settings":{"name":"cmdb_periods","title":"CMDB Periods","options":{"allowResize":"true","showMenubar":"false","showToolbar":"true","showStatusBar":"false"}},"tables":{"table":{"name":"tm_periods","type":"Main Details Table","flags":"80"}},"javascript":{"methods":{"method":[{"name":"(Globals)","code":"var monthArray = new Array(\"9\",\"4\",\"6\",\"11\",\"2\");\n\nfunction tm()\n{\n\treturn tm_periods;\n}"},{"name":"OnSaveData","code":"OnSaveData()\n{\n\t\/\/ TODO: Add your event handler code here\n\tif(in_array(_swdoc.monthArray,_swdoc.tm().from_mm))\n\t{\n\t\tif(_swdoc.tm().from_mm===\"2\")\n\t\t{\n\t\t\tif(_swdoc.tm().from_dd>28)\n\t\t\t{\n\t\t\t\tMessageBox('Please select the from date less than 29 days.');\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}else\n\t\t{\n\t\t\tif(_swdoc.tm().from_dd>30)\n\t\t\t{\n\t\t\t\tMessageBox('Please select the from date less than 31 days.');\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\n\tif(in_array(_swdoc.monthArray,_swdoc.tm().to_mm))\n\t{\n\t\tif(_swdoc.tm().to_mm===\"2\")\n\t\t{\n\t\t\tif(_swdoc.tm().to_dd>28)\n\t\t\t{\n\t\t\t\tMessageBox('Please select the to date less than 29 days.');\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}else\n\t\t{\n\t\t\tif(_swdoc.tm().to_dd>30)\n\t\t\t{\n\t\t\t\tMessageBox('Please select the to date less than 31 days.');\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\treturn true;\n}"}]}}},"layouts":{"layout":[{"appearance":{"width":"721","height":"158","backgroundColor":"#ffffff","fillColour":"#ffffff","textColour":"#000000","font":{"@size":"8","#text":"Arial"}},"controls":{"control":[{"general":{"type":"Field"},"appearance":{"index":"0","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"Rectangle"},"objectPlacement":{"position":{"top":"7","left":"116","right":"366","bottom":"25"},"scaling":{"top":"0","left":"0","right":"100","bottom":"0"}},"data":{"binding":"tm_periods.name"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"false","readOnly":"false","mandatory":"true","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false"},"textLineCount":"0","textInputFormat":"Text","properties":{"disabledBackgroundColor":"#eeeeee","borderColor":"#c0c0c0"}}},{"general":{"type":"FieldName","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"1","caption":"From Day","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Right","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"65","left":"38","right":"106","bottom":"81"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"data":{"binding":"tm_periods.from_dd"},"controlInfo":{"mouseOverCursor":"Window Default"}},{"general":{"type":"Field"},"appearance":{"index":"2","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"Rectangle"},"objectPlacement":{"position":{"top":"64","left":"116","right":"366","bottom":"82"},"scaling":{"top":"0","left":"0","right":"50","bottom":"0"}},"data":{"binding":"tm_periods.from_dd"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Pick List","flags":{"invisible":"false","readOnly":"false","mandatory":"true","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","comboAutoUpdate":"false","comboNewValues":"true","useDDPickList":"true"},"textLineCount":"0","textInputFormat":"Text","properties":{"disabledBackgroundColor":"#eeeeee","defaultValue":"1","borderColor":"#c0c0c0"}}},{"general":{"type":"FieldName","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"3","caption":"From Month","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Right","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"85","left":"38","right":"106","bottom":"101"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"data":{"binding":"tm_periods.from_mm"},"controlInfo":{"mouseOverCursor":"Window Default"}},{"general":{"type":"Field"},"appearance":{"index":"4","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"Rectangle"},"objectPlacement":{"position":{"top":"84","left":"116","right":"366","bottom":"102"},"scaling":{"top":"0","left":"0","right":"50","bottom":"0"}},"data":{"binding":"tm_periods.from_mm"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Pick List (Numeric Mode)","flags":{"invisible":"false","readOnly":"false","mandatory":"true","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","comboAutoUpdate":"false","comboNewValues":"false","useDDPickList":"true"},"textLineCount":"0","textInputFormat":"Text","properties":{"disabledBackgroundColor":"#eeeeee","defaultValue":"1","borderColor":"#c0c0c0"}}},{"general":{"type":"FieldName","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"5","caption":"From Year","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Right","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"105","left":"38","right":"106","bottom":"121"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"data":{"binding":"tm_periods.from_yyyy"},"controlInfo":{"mouseOverCursor":"Window Default","flags":{"invisible":"true","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","multiLine":"false"},"properties":{"controlGroup":"frmYear"}}},{"general":{"type":"Field"},"appearance":{"index":"6","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"Rectangle"},"objectPlacement":{"position":{"top":"104","left":"116","right":"366","bottom":"122"},"scaling":{"top":"0","left":"0","right":"50","bottom":"0"}},"data":{"binding":"tm_periods.from_yyyy"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"true","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"true","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false"},"textLineCount":"0","textInputFormat":"Numeric","properties":{"disabledBackgroundColor":"#eeeeee","hintText":"Leave blank for yearly","inputMask":"####","borderColor":"#c0c0c0","controlGroup":"frmYear"}}},{"general":{"type":"FieldName","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"7","caption":"Period Name","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Right","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"8","left":"-4","right":"106","bottom":"24"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"data":{"binding":"tm_periods.name"},"controlInfo":{"mouseOverCursor":"Window Default"}},{"general":{"type":"FieldName","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"8","caption":"To Day","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Right","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"65","left":"379","right":"431","bottom":"81"},"scaling":{"top":"0","left":"50","right":"50","bottom":"0"}},"data":{"binding":"tm_periods.to_dd"},"controlInfo":{"mouseOverCursor":"Window Default"}},{"general":{"type":"Field"},"appearance":{"index":"9","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"Rectangle"},"objectPlacement":{"position":{"top":"65","left":"441","right":"691","bottom":"83"},"scaling":{"top":"0","left":"50","right":"100","bottom":"0"}},"data":{"binding":"tm_periods.to_dd"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Pick List","flags":{"invisible":"false","readOnly":"false","mandatory":"true","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","comboAutoUpdate":"false","comboNewValues":"true","useDDPickList":"true"},"textLineCount":"0","textInputFormat":"Text","properties":{"disabledBackgroundColor":"#eeeeee","defaultValue":"1","borderColor":"#c0c0c0"}}},{"general":{"type":"FieldName","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"10","caption":"To Month","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Right","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"85","left":"379","right":"431","bottom":"101"},"scaling":{"top":"0","left":"50","right":"50","bottom":"0"}},"data":{"binding":"tm_periods.to_mm"},"controlInfo":{"mouseOverCursor":"Window Default"}},{"general":{"type":"Field"},"appearance":{"index":"11","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"Rectangle"},"objectPlacement":{"position":{"top":"85","left":"441","right":"691","bottom":"103"},"scaling":{"top":"0","left":"50","right":"100","bottom":"0"}},"data":{"binding":"tm_periods.to_mm"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Pick List (Numeric Mode)","flags":{"invisible":"false","readOnly":"false","mandatory":"true","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","comboAutoUpdate":"false","comboNewValues":"false","useDDPickList":"true"},"textLineCount":"0","textInputFormat":"Text","properties":{"disabledBackgroundColor":"#eeeeee","defaultValue":"1","borderColor":"#c0c0c0"}}},{"general":{"type":"FieldName","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"12","caption":"To Year","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Right","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"105","left":"379","right":"431","bottom":"121"},"scaling":{"top":"0","left":"50","right":"50","bottom":"0"}},"data":{"binding":"tm_periods.to_yyyy"},"controlInfo":{"mouseOverCursor":"Window Default","flags":{"invisible":"true","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","multiLine":"false"},"properties":{"controlGroup":"frmYear"}}},{"general":{"type":"Field"},"appearance":{"index":"13","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"Rectangle"},"objectPlacement":{"position":{"top":"105","left":"441","right":"691","bottom":"123"},"scaling":{"top":"0","left":"50","right":"100","bottom":"0"}},"data":{"binding":"tm_periods.to_yyyy"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"true","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false"},"textLineCount":"0","textInputFormat":"Numeric","properties":{"disabledBackgroundColor":"#eeeeee","hintText":"Leave blank for yearly","inputMask":"####","borderColor":"#c0c0c0","controlGroup":"frmYear"}}},{"general":{"name":"Rect1","type":"Rectange","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"14","backgroundColor":"#ffffff","foregroundColor":"#c0c0c0","font":{"@size":"0"},"borderStyle":"Rectangle","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"36","left":"17","right":"707","bottom":"146"},"scaling":{"top":"0","left":"0","right":"100","bottom":"0"}},"controlInfo":{"mouseOverCursor":"Window Default"}},{"general":{"name":"Text1","type":"Text","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"15","caption":"From","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Left","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"40","left":"116","right":"352","bottom":"58"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"controlInfo":{"mouseOverCursor":"Window Default"}},{"general":{"name":"Text2","type":"Text","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"16","caption":"To","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Left","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"40","left":"441","right":"677","bottom":"58"},"scaling":{"top":"0","left":"50","right":"50","bottom":"0"}},"controlInfo":{"mouseOverCursor":"Window Default"}},{"general":{"name":"fld_yearly","type":"Field"},"appearance":{"index":"17","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"None"},"objectPlacement":{"position":{"top":"10","left":"587","right":"706","bottom":"26"},"scaling":{"top":"0","left":"100","right":"100","bottom":"0"}},"controlInfo":{"mouseOverCursor":"Window Default","type":"Form Flags","textLineCount":"0","textInputFormat":"Text","properties":{"borderColor":"#d3c9b6","image":"#eeeeee","defaultValue":"1","flagItems":"Run this every year^1|","disabledBackgroundColor":"#eeeeee"}}}]},"javascript":{"methods":{"method":[{"name":"OnFormLoaded","code":"OnFormLoaded(bDataReloaded)\n{\n\t\/\/ TODO: Add your event handler code here\n\n\tif(_swdoc.tm().from_yyyy>0 || _swdoc.tm().to_yyyy>0)\n\t{\n\t\t_evi(mainform.frmYear, true);\n\t}else\n\t{\n\t\t_eva(mainform.fld_yearly, 1);\n\t\t_swdoc.UpdateFormFromData();\n\t}\n\n}"},{"name":"fld_yearly_OnValueChanged","code":"fld_yearly_OnValueChanged(strValue)\n{\n\t\/\/ TODO: Add your event handler code here\n\tif(strValue==\"1\")\n\t{\n\t\t_swdoc.tm().from_yyyy = 0;\n\t\t_swdoc.tm().to_yyyy = 0;\n\t\t_evi(mainform.frmYear, false);\n\t}\n\telse\n\t{\n\t\tvar dDate = new Date();\n\t\tvar x =dDate.getFullYear();\n\t\t_swdoc.tm().from_yyyy = x;\n\t\t_swdoc.tm().to_yyyy = x;\n\t\t_evi(mainform.frmYear, true);\n\t\t_swdoc.UpdateFormFromData();\n\t}\n\n}"}]}}},{"appearance":{"width":"360","height":"220","backgroundColor":"#ffffff","fillColour":"#ffffff","textColour":"#000000","font":{"@size":"8","#text":"Arial"}},"javascript":{}}]}}}