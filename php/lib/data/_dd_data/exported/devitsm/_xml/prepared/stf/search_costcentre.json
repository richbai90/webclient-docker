{"espForm":{"configuration":{"settings":{"name":"search_costcentre","title":"Search For Charge Centres","description":"Search on opencall table","options":{"allowResize":"true","showMenubar":"false","showToolbar":"false","showStatusBar":"false"}},"javascript":{"methods":{"method":{"name":"(Globals)","code":"var strSelectedKeys= \"\";\nvar strSelectedText = \"\";\nvar strSelectedOther = \"\";\nvar strSelectedCMDBIDs = \"\";\nvar strSelectedCompIDs = \"\";\n\nvar currentList=null;\nvar boolSearchMode = false;\nvar strCompanyHash = \"\";\n\nfunction MF()\n{\n\treturn _swdoc.mainform;\n}\n\nfunction setup_form_fields()\n{\n\t\/\/-- set field states\n\t_een(_swdoc.MF().btn_select, false);\n\t_een(_swdoc.MF().btn_subset, false);\n\t_een(_swdoc.MF().btn_remsub, false);\n\t_een(_swdoc.MF().btn_subclear, false);\n\n\n\t_een(_swdoc.MF().btn_delete, false);\n\t_een(_swdoc.MF().btn_view, false);\n\t_swdoc.currentList = _swdoc.MF().sl_results;\n\t\n\t\/\/-- DJH\n\t\/\/-- 06.08.07\n\t\/\/-- Read in passed in company hash to filter site (if supplied)\n\tif(_swdoc.GetArg(\"fk_company_id\") != \"\")\n\t{\n\t\t\/\/-- Set the Company Hash\n\t\t_swdoc.strCompanyHash = _swdoc.GetArg(\"fk_company_id\");\n\t\t_ete(_swdoc.MF().tb_company_id, _swdoc.strCompanyHash);\n\t\t\n\t\t\/\/-- Prevent Changing of Company Hash\n\t\t_ero(_swdoc.MF().tb_company_id, true);\n\t\t_ero(_swdoc.MF().lbl_company_id, true);\n\t\t\n\t\t\/\/-- Default search to \"All Items Must Match\" and prevent changing it\n\t\t_eva(_swdoc.MF().lb_type, 1);\n\t\t_ero(_swdoc.MF().lb_type, true);\n\t\t\n\t\t\/\/-- Run the search immediately\n\t\t_swdoc.MF().btn_search_OnPressed();\n\t}\n\t\t\n\t\/\/-- show hide buttons depending on searchmode\n\t_swdoc.boolSearchMode = (_swdoc.GetArg(\"searchmode\")==\"1\");\n\n\t_evi(_swdoc.MF().btn_delete, (!_swdoc.boolSearchMode));\n\t_evi(_swdoc.MF().btn_view, (!_swdoc.boolSearchMode));\n\t_evi(_swdoc.MF().btn_select, (_swdoc.boolSearchMode));\n\t_evi(_swdoc.MF().btn_cancel, (_swdoc.boolSearchMode));\t\n\t\n\tif(!_swdoc.boolSearchMode)_swdoc.SetTitle(\"Manage Charge Centre Records\");\n\t\n\t\n}"}}}},"layouts":{"layout":[{"appearance":{"width":"587","height":"521","backgroundColor":"#ffffff","fillColour":"#ffffff","textColour":"#000000","font":{"@size":"8","#text":"Arial"}},"controls":{"control":[{"general":{"name":"TabSearch","type":"TabControl","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"0","caption":"Tab1","backgroundColor":"#ded7ce","foregroundColor":"#f7f3ef","font":{"@size":"8","#text":"Arial"},"borderStyle":"None"},"objectPlacement":{"position":{"top":"9","left":"9","right":"579","bottom":"513"},"scaling":{"top":"0","left":"0","right":"100","bottom":"100"}},"tabStyle":"Top","tabSize":"19","items":{"item":{"name":"Search Criteria","properties":"56=#f2f2f2|59=#5f5f5f|_flags=0","textBorder":"None","textBackgroundColor":"#ffffff","controlInfo":{"mouseOverCursor":"Window Default","properties":{"tabColor":"#f2f2f2","inactiveTextColor":"#5f5f5f"}}}},"selectedTextFont":{"@size":"8","#text":"Arial"},"selectedTextColor":"#000000","deselectedTextColor":"#000000","tabSlopeLeft":"2","tabSlopeRight":"2","deselectedTabHeightOffset":"1","tabSpacing":"0","controlInfo":{"mouseOverCursor":"Window Default","properties":{"tabStyle":"2"}}},{"general":{"name":"rs1","type":"Rectange","group":"TabSearch:0"},"appearance":{"index":"1","backgroundColor":"#f2f2f2","foregroundColor":"#b2b2b2","font":{"@size":"0"},"borderStyle":"3-D Sunken","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"38","left":"19","right":"291","bottom":"199"},"scaling":{"top":"0","left":"0","right":"50","bottom":"0"}},"controlInfo":{"mouseOverCursor":"Window Default"}},{"general":{"name":"rs1","type":"Rectange","group":"TabSearch:0"},"appearance":{"index":"2","backgroundColor":"#f2f2f2","foregroundColor":"#f2f2f2","font":{"@size":"0"},"borderStyle":"3-D Sunken","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"38","left":"298","right":"570","bottom":"199"},"scaling":{"top":"0","left":"50","right":"100","bottom":"0"}},"controlInfo":{"mouseOverCursor":"Window Default"}},{"general":{"name":"Label1","type":"FieldName","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"},"group":"TabSearch:0"},"appearance":{"index":"3","caption":"Description","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Left","borderStyle":"Rectangle","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"56","left":"20","right":"122","bottom":"74"},"scaling":{"top":"0","left":"0","right":"20","bottom":"0"}},"data":{"binding":"costcent.department"},"controlInfo":{"mouseOverCursor":"Window Default","properties":{"borderColor":"#dddddd"}}},{"general":{"name":"sl_results","type":"SqlTable","flags":{"transparent":"false","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false","showHeader":"true","verticalGridLines":"true","horizontalGridLines":"true","autoLoad":"false","allowMultiSelect":"true"},"group":"TabRes:0"},"appearance":{"index":"4","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"Rectangle"},"objectPlacement":{"position":{"top":"296","left":"23","right":"563","bottom":"462"},"scaling":{"top":"0","left":"0","right":"100","bottom":"100"}},"columns":{"controlInfo":[{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"false","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false","hidden":"false","allowResize":"true","allowSort":"true"},"textLineCount":"0","textInputFormat":"Text","properties":{"column":"costcenter"},"name":"Charge Centre","width":"146","image":"-1","dataColumn":"1"},{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"false","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false","hidden":"false","allowResize":"true","allowSort":"true"},"textLineCount":"0","textInputFormat":"Text","properties":{"column":"department"},"name":"Description","width":"226","image":"-1","dataColumn":"2"},{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"false","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false","hidden":"false","allowResize":"true","allowSort":"true"},"textLineCount":"0","textInputFormat":"Text","properties":{"column":"rate"},"name":"Rate","width":"120","image":"-1","dataColumn":"3"},{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"false","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false","hidden":"false","allowResize":"true","allowSort":"true"},"textLineCount":"0","textInputFormat":"Text","properties":{"column":"fk_company_id"},"name":"Organisation ID","width":"120","image":"-1","dataColumn":"4"}]},"sortColumn":"-1","sortDescending":"false","headerHeight":"16","rowHeight":"16","selectedColor":"#00008b","selectedTextColor":"#ffffff","controlInfo":{"mouseOverCursor":"Window Default","properties":{"table":"costcent","editRecordForm":"Form.EfCharge Centre","newRecordForm":"Form.EfCharge Centre","listFilter":"empty=1","sqlSource":"swdata","highlightStyle":"0","selectionMode":"1","storedQuery":"common.searchtable.searchResults"}}},{"general":{"name":"btn_search","type":"EventButton","flags":{"transparent":"false","xpStyle":"true","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"},"group":"TabSearch:0"},"appearance":{"index":"5","caption":"Search","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"}},"objectPlacement":{"position":{"top":"210","left":"505","right":"570","bottom":"234"},"scaling":{"top":"0","left":"100","right":"100","bottom":"0"}},"controlInfo":{"mouseOverCursor":"Window Default","flags":{"invisible":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","multiLine":"false"}}},{"general":{"name":"btn_clear","type":"EventButton","flags":{"transparent":"false","xpStyle":"true","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"},"group":"TabSearch:0"},"appearance":{"index":"6","caption":"Reset","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"}},"objectPlacement":{"position":{"top":"238","left":"505","right":"570","bottom":"262"},"scaling":{"top":"0","left":"100","right":"100","bottom":"0"}},"controlInfo":{"mouseOverCursor":"Window Default","flags":{"invisible":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","multiLine":"false"}}},{"general":{"name":"Line1","type":"Line","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"},"group":"TabSearch:0"},"appearance":{"index":"7","caption":"Line 1","backgroundColor":"#ffffff","foregroundColor":"#808080","font":{"@size":"0"}},"objectPlacement":{"position":{"top":"201","left":"18","right":"569","bottom":"209"},"scaling":{"top":"0","left":"0","right":"100","bottom":"0"}},"controlInfo":{"mouseOverCursor":"Window Default"}},{"general":{"name":"lb_type","type":"Field","group":"TabSearch:0"},"appearance":{"index":"8","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"3-D Sunken"},"objectPlacement":{"position":{"top":"241","left":"330","right":"496","bottom":"259"},"scaling":{"top":"0","left":"100","right":"100","bottom":"0"}},"controlInfo":{"mouseOverCursor":"Window Default","type":"Pick List (Numeric Mode)","flags":{"invisible":"false","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","comboAutoUpdate":"false","comboNewValues":"true","useDDPickList":"false"},"textLineCount":"0","textInputFormat":"Text","properties":{"content":"#eeeeee","listItems":"Any of the above match^0|All of the above match^1|","disabledBackgroundColor":"#eeeeee"}}},{"general":{"name":"Text1","type":"Text","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"},"group":"TabSearch:0"},"appearance":{"index":"9","caption":"Search Mode :","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Left","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"241","left":"246","right":"327","bottom":"259"},"scaling":{"top":"0","left":"100","right":"100","bottom":"0"}},"controlInfo":{"mouseOverCursor":"Window Default"}},{"general":{"name":"TabRes","type":"TabControl","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"},"group":"TabSearch:0"},"appearance":{"index":"10","caption":"Tab1","backgroundColor":"#ded7ce","foregroundColor":"#eaeaea","font":{"@size":"8","#text":"Arial"},"borderStyle":"None"},"objectPlacement":{"position":{"top":"266","left":"14","right":"573","bottom":"503"},"scaling":{"top":"0","left":"0","right":"100","bottom":"100"}},"tabStyle":"Top","tabSize":"19","items":{"item":[{"name":"Search Results","properties":"56=#eaeaea|59=#5f5f5f|_flags=0","textBorder":"None","textBackgroundColor":"#ffffff","controlInfo":{"mouseOverCursor":"Window Default","properties":{"tabColor":"#eaeaea","inactiveTextColor":"#5f5f5f"}}},{"name":"Result Selection","properties":"56=#eaeaea|59=#5f5f5f|_flags=0","textBorder":"None","textBackgroundColor":"#ffffff","controlInfo":{"mouseOverCursor":"Window Default","properties":{"tabColor":"#eaeaea","inactiveTextColor":"#5f5f5f"}}}]},"selectedTextFont":{"@size":"8","#text":"Arial"},"selectedTextColor":"#000000","deselectedTextColor":"#000000","tabSlopeLeft":"2","tabSlopeRight":"2","deselectedTabHeightOffset":"1","tabSpacing":"0","controlInfo":{"mouseOverCursor":"Window Default","properties":{"tabStyle":"0"}}},{"general":{"name":"btn_subset","type":"EventButton","flags":{"transparent":"false","xpStyle":"true","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"},"group":"TabRes:0"},"appearance":{"index":"11","caption":"Add to Selection","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"}},"objectPlacement":{"position":{"top":"470","left":"21","right":"115","bottom":"494"},"scaling":{"top":"100","left":"0","right":"0","bottom":"100"}},"controlInfo":{"mouseOverCursor":"Window Default","flags":{"invisible":"false","skipTabStop":"false","disabled":"true","protected":"false","noMacroExpand":"false","multiLine":"false"}}},{"general":{"name":"btn_select","type":"EventButton","flags":{"transparent":"false","xpStyle":"true","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"12","caption":"Select","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"}},"objectPlacement":{"position":{"top":"470","left":"428","right":"493","bottom":"494"},"scaling":{"top":"100","left":"100","right":"100","bottom":"100"}},"controlInfo":{"mouseOverCursor":"Window Default","flags":{"invisible":"true","skipTabStop":"false","disabled":"true","protected":"false","noMacroExpand":"false","multiLine":"false"}}},{"general":{"name":"btn_cancel","type":"EventButton","flags":{"transparent":"false","xpStyle":"true","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"13","caption":"Cancel","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"}},"objectPlacement":{"position":{"top":"470","left":"498","right":"563","bottom":"494"},"scaling":{"top":"100","left":"100","right":"100","bottom":"100"}},"controlInfo":{"mouseOverCursor":"Window Default","flags":{"invisible":"true","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","multiLine":"false"}}},{"general":{"name":"btn_remsub","type":"EventButton","flags":{"transparent":"false","xpStyle":"true","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"},"group":"TabRes:1"},"appearance":{"index":"14","caption":"Remove Selected","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"}},"objectPlacement":{"position":{"top":"470","left":"21","right":"115","bottom":"494"},"scaling":{"top":"100","left":"0","right":"0","bottom":"100"}},"controlInfo":{"mouseOverCursor":"Window Default","flags":{"invisible":"false","skipTabStop":"false","disabled":"true","protected":"false","noMacroExpand":"false","multiLine":"false"}}},{"general":{"name":"btn_subclear","type":"EventButton","flags":{"transparent":"false","xpStyle":"true","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"},"group":"TabRes:1"},"appearance":{"index":"15","caption":"Remove All","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"}},"objectPlacement":{"position":{"top":"470","left":"120","right":"212","bottom":"494"},"scaling":{"top":"100","left":"0","right":"0","bottom":"100"}},"controlInfo":{"mouseOverCursor":"Window Default","flags":{"invisible":"false","skipTabStop":"false","disabled":"true","protected":"false","noMacroExpand":"false","multiLine":"false"}}},{"general":{"name":"tb_keycol","type":"Text","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"16","caption":"costcenter","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Left","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"60","left":"610","right":"678","bottom":"78"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"controlInfo":{"mouseOverCursor":"Window Default","flags":{"invisible":"true","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","multiLine":"false"}}},{"general":{"name":"tb_txtcol","type":"Text","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"17","caption":"costcenter","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Left","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"80","left":"610","right":"678","bottom":"98"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"controlInfo":{"mouseOverCursor":"Window Default","flags":{"invisible":"true","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","multiLine":"false"}}},{"general":{"name":"tb_table","type":"Text","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"18","caption":"costcent","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Left","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"100","left":"610","right":"678","bottom":"118"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"controlInfo":{"mouseOverCursor":"Window Default","flags":{"invisible":"true","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","multiLine":"false"}}},{"general":{"name":"tb_keycolname","type":"Text","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"19","caption":"costcenter","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Left","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"120","left":"610","right":"678","bottom":"138"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"controlInfo":{"mouseOverCursor":"Window Default","flags":{"invisible":"true","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","multiLine":"false"}}},{"general":{"name":"Field1","type":"Field","group":"TabSearch:0"},"appearance":{"index":"20","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"Rectangle"},"objectPlacement":{"position":{"top":"56","left":"121","right":"289","bottom":"74"},"scaling":{"top":"0","left":"20","right":"50","bottom":"0"}},"data":{"binding":"costcent.department"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Text Edit","textLineCount":"0","textInputFormat":"Text","properties":{"content":"#eeeeee","borderColor":"#dddddd","disabledBackgroundColor":"#eeeeee"}}},{"general":{"name":"tb_othercol","type":"Text","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"21","caption":"fk_company_id","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Left","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"140","left":"620","right":"688","bottom":"158"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"controlInfo":{"mouseOverCursor":"Window Default","flags":{"invisible":"true","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","multiLine":"false"}}},{"general":{"name":"btn_add","type":"EventButton","flags":{"transparent":"false","xpStyle":"true","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"22","caption":"Add New","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"}},"objectPlacement":{"position":{"top":"470","left":"359","right":"424","bottom":"494"},"scaling":{"top":"100","left":"100","right":"100","bottom":"100"}},"controlInfo":{"mouseOverCursor":"Window Default","flags":{"invisible":"true","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","multiLine":"false"}}},{"general":{"name":"btn_delete","type":"EventButton","flags":{"transparent":"false","xpStyle":"true","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"23","caption":"Delete","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"}},"objectPlacement":{"position":{"top":"470","left":"428","right":"493","bottom":"494"},"scaling":{"top":"100","left":"100","right":"100","bottom":"100"}},"controlInfo":{"mouseOverCursor":"Window Default","flags":{"invisible":"false","skipTabStop":"false","disabled":"true","protected":"false","noMacroExpand":"false","multiLine":"false"}}},{"general":{"name":"btn_view","type":"EventButton","flags":{"transparent":"false","xpStyle":"true","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"24","caption":"View","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"}},"objectPlacement":{"position":{"top":"470","left":"498","right":"563","bottom":"494"},"scaling":{"top":"100","left":"100","right":"100","bottom":"100"}},"controlInfo":{"mouseOverCursor":"Window Default","flags":{"invisible":"false","skipTabStop":"false","disabled":"true","protected":"false","noMacroExpand":"false","multiLine":"false"}}},{"general":{"name":"Label4","type":"FieldName","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"},"group":"TabSearch:0"},"appearance":{"index":"25","caption":"Charge Centre","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Left","borderStyle":"Rectangle","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"39","left":"20","right":"122","bottom":"57"},"scaling":{"top":"0","left":"0","right":"20","bottom":"0"}},"data":{"binding":"costcent.costcenter"},"controlInfo":{"mouseOverCursor":"Window Default","properties":{"borderColor":"#dddddd"}}},{"general":{"name":"Field4","type":"Field","group":"TabSearch:0"},"appearance":{"index":"26","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"Rectangle"},"objectPlacement":{"position":{"top":"39","left":"121","right":"289","bottom":"57"},"scaling":{"top":"0","left":"20","right":"50","bottom":"0"}},"data":{"binding":"costcent.costcenter"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Text Edit","textLineCount":"0","textInputFormat":"Text","properties":{"content":"#eeeeee","borderColor":"#dddddd","disabledBackgroundColor":"#eeeeee"}}},{"general":{"name":"lbl_company_id","type":"FieldName","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"},"group":"TabSearch:0"},"appearance":{"index":"27","caption":"Organisation","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Left","borderStyle":"Rectangle","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"39","left":"300","right":"402","bottom":"57"},"scaling":{"top":"0","left":"50","right":"70","bottom":"0"}},"data":{"binding":"costcent.fk_company_id"},"controlInfo":{"mouseOverCursor":"Window Default","properties":{"borderColor":"#dddddd"}}},{"general":{"name":"tb_company_id","type":"Field","group":"TabSearch:0"},"appearance":{"index":"28","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"Rectangle"},"objectPlacement":{"position":{"top":"39","left":"400","right":"568","bottom":"57"},"scaling":{"top":"0","left":"70","right":"100","bottom":"0"}},"data":{"binding":"costcent.fk_company_id"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Distinct Pick List","flags":{"invisible":"false","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","comboAutoUpdate":"false","comboNewValues":"true","pickListOrderDesc":"false"},"textLineCount":"0","textInputFormat":"Text","properties":{"content":"#eeeeee","borderColor":"#dddddd","disabledBackgroundColor":"#eeeeee","sqlSource":"swdata","distinctTable":"company","distinctColumn":"pk_company_id","displayColumn":"companyname","storedQuery":"generic.select"}}},{"general":{"name":"sl_sub","type":"SqlTable","flags":{"transparent":"false","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false","showHeader":"true","verticalGridLines":"true","horizontalGridLines":"true","autoLoad":"false","allowMultiSelect":"true"},"group":"TabRes:1"},"appearance":{"index":"29","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"Rectangle"},"objectPlacement":{"position":{"top":"296","left":"23","right":"563","bottom":"462"},"scaling":{"top":"0","left":"0","right":"100","bottom":"100"}},"columns":{"controlInfo":[{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"false","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false","hidden":"false","allowResize":"true","allowSort":"true"},"textLineCount":"0","textInputFormat":"Text","properties":{"column":"costcenter"},"name":"Charge Centre","width":"146","image":"-1","dataColumn":"1"},{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"false","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false","hidden":"false","allowResize":"true","allowSort":"true"},"textLineCount":"0","textInputFormat":"Text","properties":{"column":"department"},"name":"Description","width":"226","image":"-1","dataColumn":"2"},{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"false","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false","hidden":"false","allowResize":"true","allowSort":"true"},"textLineCount":"0","textInputFormat":"Text","properties":{"column":"rate"},"name":"Rate","width":"120","image":"-1","dataColumn":"3"},{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"false","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false","hidden":"false","allowResize":"true","allowSort":"true"},"textLineCount":"0","textInputFormat":"Text","properties":{"column":"fk_company_id"},"name":"Organisation ID","width":"120","image":"-1","dataColumn":"4"}]},"sortColumn":"-1","sortDescending":"false","headerHeight":"16","rowHeight":"16","selectedColor":"#00008b","selectedTextColor":"#ffffff","controlInfo":{"mouseOverCursor":"Window Default","properties":{"table":"costcent","editRecordForm":"Form.EfCharge Centre","newRecordForm":"Form.EfCharge Centre","listFilter":"empty=1","sqlSource":"swdata","highlightStyle":"0","selectionMode":"1","storedQuery":"common.searchtable.resultSelection"}}}]},"javascript":{"methods":{"method":[{"name":"btn_search_OnPressed","code":"btn_search_OnPressed()\n{\n\t\/\/-- 19.01.2006 - NWJ\n\t\/\/-- create search criteria\n\n\t_een(btn_select, false);\n\tapp.g.sqllist_clear(sl_results);\n\n\tvar boolAND = (lb_type.value==1);\n\t\t\n\tvar strFilter = app.g.create_search_params(mainform,tb_table.text,\"\",boolAND,false);\n\n\t\/\/-- apply filter\n\tapp.g.sl_filter(sl_results,strFilter,null,0);\n\n}"},{"name":"btn_clear_OnPressed","code":"btn_clear_OnPressed()\n{\n\t\/\/-- clear search fields\n\t\/\/MessageBox(tb_table.text + \" : \" + tb_table.value)\n\tapp.g.clear_form_fields(tb_table.text,mainform,\"\",false);\n\t_swdoc.setup_form_fields();\n}"},{"name":"sl_cis_OnHeaderItemClicked","code":"sl_cis_OnHeaderItemClicked(strOrder, nCol)\n{\n\tsl_results.Refresh();\n\tsl_results.SetRowSelected(0);\n}"},{"name":"sl_cis_OnItemSelected","code":"sl_cis_OnItemSelected(nRow)\n{\n\t\/\/--\n\t\/\/-- enable the select button\n\t_een(btn_select , (sl_results.rowCount()>0));\n\t_een(btn_subset,(sl_results.rowCount()>0));\t\n\n}"},{"name":"btn_subclear_OnPressed","code":"btn_subclear_OnPressed()\n{\n\t\n\tvar strFilter= \"empty=1\";\n\tapp.g.sl_filter(sl_sub,strFilter,null,0);\n\tsl_sub_OnItemSelected(0);\n\t\n}"},{"name":"btn_remsub_OnPressed","code":"btn_remsub_OnPressed()\n{\n\tapp.g.sl_clearselected(sl_sub,null,0);\n\n\t\/\/-- 12.11.2012 - nwj - create simple param to pass into storequery\n\tvar strSubKeys= app.g.sl_get_valuesdel(sl_sub,0,\",\",\"\");\n\tif(strSubKeys==\"\")\n\t{\n\t\tstrSubKeys =\"-1\";\t\n\t}\n\t\t\n\tvar strFilter = \"_kv=\" + strSubKeys;\n\tapp.g.sl_filter(sl_sub,strFilter,null,0);\n\tsl_sub_OnItemSelected(0);\t\n\t\n}"},{"name":"sl_sub_OnItemSelected","code":"sl_sub_OnItemSelected(nRow)\n{\n\t\/\/--\n\t\/\/-- enable the select button\n\tvar boolShow = (app.g.sl_getselected_count(_swdoc.currentList)==1);\t\n\t_een(btn_view, boolShow);\n\tvar boolShow = (sl_sub.rowCount()>0);\n\t_een(btn_delete, boolShow);\t\n\t_een(btn_select, boolShow);\n\t_een(btn_remsub, boolShow);\n\t_een(btn_subclear, boolShow);\t\n\n\n}"},{"name":"btn_subset_OnPressed","code":"btn_subset_OnPressed()\n{\n\t\n\t\/\/-- 08.12.2012 - nwj - create simple param to pass into storequery\n\tvar strSelKeys = app.g.sl_getselected_valuesdel(sl_results\t,tb_keycol.text,\",\",\"\",true);\n\tvar strSubKeys = app.g.sl_get_valuesdel(sl_sub,tb_keycol.text,\",\",\"\",true);\n\t\n\t\/\/-- if we already have sub calls\n\tif(strSubKeys!=\"\")\n\t{\n\t\tstrSelKeys += \",\" + strSubKeys;\n\t}\n\t\n\tvar strFilter = \"_kv=\" + strSelKeys;\n\tapp.g.sl_filter(sl_sub,strFilter,null,0);\n\t\n\n}"},{"name":"btn_cancel_OnPressed","code":"btn_cancel_OnPressed()\n{\n\t_swdoc.CloseForm();\n\n\n}"},{"name":"btn_select_OnPressed","code":"btn_select_OnPressed()\n{\n\t\/\/-- get list of selected callrefs\n\t\n\t_swdoc.strSelectedKeys= app.g.sl_getselected_valuesdel(_swdoc.currentList,tb_keycol.text,\",\");\n\t_swdoc.strSelectedText = app.g.sl_getselected_textdel(_swdoc.currentList,tb_txtcol.text,\",\");\n\t_swdoc.strSelectedOther = app.g.sl_getselected_textdel(_swdoc.currentList,tb_othercol.text,\",\");\t\n\t\t\n\t_swdoc.CloseForm();\t\n}"},{"name":"OnFormLoaded","code":"OnFormLoaded()\n{\n\t_swdoc.setup_form_fields();\n}"},{"name":"sl_results_OnItemSelected","code":"sl_results_OnItemSelected(nRow)\n{\n\t\/\/--\n\t\/\/-- enable the select button\n\tvar boolShow = (app.g.sl_getselected_count(_swdoc.currentList)==1);\n\t_een(btn_view, boolShow);\n\tvar boolShow = (sl_results.rowCount()>0);\n\t_een(btn_delete, boolShow);\t\n\t_een(btn_select, boolShow);\n\t_een(btn_subset, boolShow);\t\n\n}"},{"name":"TabRes_OnTabSelected","code":"TabRes_OnTabSelected(nTab)\n{\n\tif(nTab==0)\n\t{\n\t\t_swdoc.currentList = sl_results;\n\t}\n\telse\n\t{\n\t\t_swdoc.currentList = sl_sub;\n\t}\n\n\tvar boolShow = (app.g.sl_getselected_count(_swdoc.currentList)==1);\n\t_een(btn_view, boolShow);\n\tvar boolShow = (_swdoc.currentList.rowCount()>0);\n\t_een(btn_delete, boolShow); \t\t\t\n\n}"},{"name":"btn_add_OnPressed","code":"btn_add_OnPressed()\n{\n\tapp.OpenFormForAdd(\"EfCharge Centre\", \"\", \"\", true, function(){});\n\n}"},{"name":"btn_delete_OnPressed","code":"btn_delete_OnPressed()\n{\n\tvar strConfirm = \"Are you sure you want to delete the selected record?\";\n\tapp.g.sl_deldbrow(_swdoc.currentList,_swdoc.currentList.curSel,'keysearch',null,strConfirm);\n\n}"},{"name":"btn_view_OnPressed","code":"btn_view_OnPressed()\n{\n\t_swdoc.currentList.EditRecord(_swdoc.currentList.curSel);\n}"},{"name":"sl_results1_OnHeaderItemClicked","code":"sl_results1_OnHeaderItemClicked(strOrder, nCol)\n{\n\tapp.g.sl_refresh(sl_results1,null,0);\n}"},{"name":"sl_results1_OnItemSelected","code":"sl_results1_OnItemSelected(nRow)\n{\n\t\/\/--\n\t\/\/-- enable the select button\n\t_een(btn_view , (app.g.sl_getselected_count(_swdoc.currentList)==1));\n\t_een(btn_delete , (sl_results1.rowCount()>0));\t\n\t_een(btn_select , (sl_results1.rowCount()>0));\n\t_een(btn_subset,(sl_results1.rowCount()>0));\t\n\n}"}]}}},{"appearance":{"width":"360","height":"220","backgroundColor":"#ffffff","fillColour":"#ffffff","textColour":"#000000","font":{"@size":"8","#text":"Arial"}},"javascript":{}}]}}}