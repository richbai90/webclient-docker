{"espForm":{"configuration":{"settings":{"name":"cmdb_search_fields","title":"Additional CMDB Search Fields","options":{"allowResize":"true","showMenubar":"false","showToolbar":"false","showStatusBar":"false"}},"javascript":{}},"layouts":{"layout":[{"appearance":{"width":"377","height":"195","backgroundColor":"#ffffff","fillColour":"#ffffff","textColour":"#000000","font":{"@size":"8","#text":"Arial"}},"controls":{"control":[{"general":{"name":"sl_fields","type":"SqlTable","flags":{"transparent":"false","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false","showHeader":"true","verticalGridLines":"true","horizontalGridLines":"true","autoLoad":"true","allowMultiSelect":"false"}},"appearance":{"index":"0","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"Rectangle"},"objectPlacement":{"position":{"top":"40","left":"8","right":"370","bottom":"190"},"scaling":{"top":"0","left":"0","right":"100","bottom":"100"}},"columns":{"controlInfo":[{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"false","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false","hidden":"false","allowResize":"true","allowSort":"true"},"textLineCount":"0","textInputFormat":"Text","properties":{"column":"displayname"},"name":"Display Name","width":"200","image":"-1","dataColumn":"0"},{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"false","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false","hidden":"false","allowResize":"true","allowSort":"true"},"textLineCount":"0","textInputFormat":"Text","properties":{"column":"pk_fieldname"},"name":"Database Field","width":"158","image":"-1","dataColumn":"1"}]},"sortColumn":"1","sortDescending":"false","headerHeight":"18","rowHeight":"16","selectedColor":"#00008b","selectedTextColor":"#ffffff","controlInfo":{"mouseOverCursor":"Window Default","properties":{"sqlSource":"swdata","table":"cmdb_srch_fields","storedQuery":"me.browse.table"}}},{"general":{"name":"btnNew","type":"EventButton"},"appearance":{"index":"1","caption":"Add","backgroundColor":"#000000","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"}},"objectPlacement":{"position":{"top":"12","left":"245","right":"305","bottom":"36"},"scaling":{"top":"0","left":"100","right":"100","bottom":"0"}},"controlInfo":{"mouseOverCursor":"Window Default","properties":{"backgroundColor":"#dddddd"}}},{"general":{"name":"btnDelete","type":"EventButton"},"appearance":{"index":"2","caption":"Delete","backgroundColor":"#000000","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"}},"objectPlacement":{"position":{"top":"12","left":"310","right":"370","bottom":"36"},"scaling":{"top":"0","left":"100","right":"100","bottom":"0"}},"controlInfo":{"mouseOverCursor":"Window Default"}},{"general":{"name":"lb_columns","type":"Field"},"appearance":{"index":"3","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"Rectangle"},"objectPlacement":{"position":{"top":"14","left":"8","right":"235","bottom":"34"},"scaling":{"top":"0","left":"0","right":"100","bottom":"0"}},"controlInfo":{"mouseOverCursor":"Window Default","type":"Pick List (Numeric Mode)","flags":{"invisible":"false","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","comboAutoUpdate":"false","comboNewValues":"true","useDDPickList":"false"},"textLineCount":"0","textInputFormat":"Text","properties":{"borderColor":"#000000","dateFormatMode":"#eeeeee","disabledBackgroundColor":"#eeeeee"}}}]},"javascript":{"methods":{"method":[{"name":"btnNew_OnPressed","code":"btnNew_OnPressed()\n{\n\t\/\/-- insert field if not already in there\n\tvar strColName = dd.tables['config_itemi'].columns[lb_columns.value-1].name;\n\tvar strColText = dd.tables['config_itemi'].columns[lb_columns.value-1].DisplayName;\t\n\t\t\t\n\tvar arrCols={};\n\tarrCols.pk_fieldname = strColName;\n\tarrCols.displayname = strColText;\n\tif(app.g.submittableinsert(\"cmdb_srch_fields\",arrCols))\n\t{\n\t\tsl_fields.Refresh();\n\t\tsl_fields.SetRowSelected(0, true, false);\n\t}\n\t\n}"},{"name":"btnDelete_OnPressed","code":"btnDelete_OnPressed()\n{\n\tapp.g.sl_deldbrow(sl_fields,-1,\"\",null,\"Are you sure you want to remove this search field?\");\n}"},{"name":"OnFormLoaded","code":"OnFormLoaded(bDataReloaded)\n{\n\t\/\/var strList = app.g.dd_getcolumnlist(\"config_itemi\",true);\n\tvar strList = app.g.dd_getcolumnlist(\"config_itemi\",true,\"\",\"\",true);\n\tstrList = \"Select Field...^0|\" + strList;\n\tlb_columns.pickList = strList;\n\n}"},{"name":"sl_fields_OnItemSelected","code":"sl_fields_OnItemSelected(nRow)\n{\n\t_een(btnDelete, (sl_fields.curSel>-1));\n}"}]}}},{"appearance":{"width":"360","height":"220","backgroundColor":"#ffffff","fillColour":"#ffffff","textColour":"#000000","font":{"@size":"8","#text":"Arial"}},"javascript":{}}]}}}