{"espForm":{"configuration":{"settings":{"name":"cmdb_configtype_status","title":"Configuration Item Type Status","options":{"allowResize":"true","showMenubar":"false","showToolbar":"true","showStatusBar":"false"}},"tables":{"table":{"name":"ct_statusl","type":"Main Details Table","flags":"0"}},"javascript":{"methods":{"method":[{"name":"(Globals)","code":"var boolInserting = false;\n\nfunction oCStatus()\n{\n\treturn _swdoc.ct_statusl;\n}\n\nfunction MF()\n{\n\treturn _swdoc.mainform;\n}"},{"name":"OnDataSaved","code":"OnDataSaved()\n{\n\t\/\/-- F0088789 prompt whether they would like to add to child categories\n\tif(_swdoc.boolInserting)\n\t{\n\t\tif(confirm(\"Would you like to add this status to sub categories in the cmdb?\"))\n\t\t{\n\t\t\tvar xmlmc = new XmlMethodCall;\n\t\t\t\n\t\t\txmlmc.SetValue(\"status\", ct_statusl.status_level);\n\t\t\txmlmc.SetValue(\"type\", ct_statusl.fk_config_type);\n\t\t\txmlmc.SetValue(\"sc\", ct_statusl.flg_sc);\t\n\t\t\txmlmc.SetValue(\"colour_code\", ct_statusl.colour_code);\t\n\t\t\txmlmc.SetValue(\"cmdb_status\", ct_statusl.cmdb_status);\t\n\t\t\t\n\t\t\t\/\/-- Invoke the method\n\t\t\tif(xmlmc.Invoke(\"VPME\", \"cmdbCreateStatus\"))\n\t\t\t{\n\t\t\t\t_swdoc.CloseForm();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tMessageBox(xmlmc.GetLastError());\n\t\t\t}\t\n\t\t}\n\t}\n\n\n\n}"}]}}},"layouts":{"layout":[{"appearance":{"width":"326","height":"97","backgroundColor":"#ffffff","fillColour":"#ffffff","textColour":"#000000","font":{"@size":"8","#text":"Arial"}},"controls":{"control":[{"general":{"name":"lb_status","type":"Field"},"appearance":{"index":"0","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"Rectangle"},"objectPlacement":{"position":{"top":"23","left":"101","right":"308","bottom":"41"},"scaling":{"top":"0","left":"0","right":"100","bottom":"0"}},"data":{"binding":"ct_statusl.status_level"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Distinct Pick List","flags":{"invisible":"false","readOnly":"false","mandatory":"true","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","comboAutoUpdate":"false","comboNewValues":"true","pickListOrderDesc":"false"},"textLineCount":"0","textInputFormat":"Text","properties":{"content":"#eeeeee","sqlSource":"swdata","distinctTable":"ct_statusl","distinctColumn":"status_level","disabledBackgroundColor":"#eeeeee","storedQuery":"generic.select","listFilter":"swfc_picklist=1"}}},{"general":{"name":"Field1","type":"Field"},"appearance":{"index":"1","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"Rectangle"},"objectPlacement":{"position":{"top":"45","left":"101","right":"308","bottom":"63"},"scaling":{"top":"0","left":"0","right":"100","bottom":"0"}},"data":{"binding":"ct_statusl.cmdb_status"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Pick List","flags":{"invisible":"false","readOnly":"false","mandatory":"true","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","comboAutoUpdate":"false","comboNewValues":"true","useDDPickList":"false"},"textLineCount":"0","textInputFormat":"Text","properties":{"defaultValue":"Active","listItems":"Active|Faulty|Impacted|Unavailable|Deactivated|","content":"#eeeeee","disabledBackgroundColor":"#eeeeee"}}},{"general":{"name":"Label1","type":"FieldName","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"2","caption":"Status","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Right","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"23","left":"10","right":"97","bottom":"41"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"data":{"binding":"ct_statusl.status_level"},"controlInfo":{"mouseOverCursor":"Window Default"}},{"general":{"name":"lbl_colour","type":"FieldName","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"3","caption":"Colour Code","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Right","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"68","left":"10","right":"97","bottom":"86"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"data":{"binding":"ct_statusl.colour_code"},"controlInfo":{"mouseOverCursor":"Window Default"}},{"general":{"name":"tb_code","type":"Field"},"appearance":{"index":"4","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"Rectangle"},"objectPlacement":{"position":{"top":"68","left":"101","right":"308","bottom":"86"},"scaling":{"top":"0","left":"0","right":"100","bottom":"0"}},"data":{"binding":"ct_statusl.colour_code"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"false","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false"},"textLineCount":"0","textInputFormat":"Text","properties":{"defaultValue":"#000000","hintText":"Click here to select a status colour code","content":"#eeeeee","sqlSource":"swdata","distinctTable":"ct_statusl","distinctColumn":"ck_status_level","disabledBackgroundColor":"#eeeeee"}}},{"general":{"name":"Label1","type":"FieldName","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"5","caption":"CMDB Status","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Right","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"45","left":"10","right":"97","bottom":"63"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"data":{"binding":"ct_statusl.cmdb_status"},"controlInfo":{"mouseOverCursor":"Window Default"}}]},"javascript":{"methods":{"method":[{"name":"tb_code_OnLeftClick","code":"tb_code_OnLeftClick()\n{\n\n\tapp.g.pick_colour(function(strColour)\n\t{\n\t\tif(strColour!=\"\")\n\t\t{\n\t\t\t_swdoc.oCStatus().colour_code = strColour;\n\t\t\tapp._ecol(lbl_colour, strColour);\n\t\t\t_swdoc.UpdateFormFromData();\n\t\t}\n\t\treturn false;\n\t});\n}"},{"name":"OnFormLoaded","code":"OnFormLoaded()\n{\n\tif(_swdoc.oCStatus().pk_auto_id==0)\n\t{\n\t\t_swdoc.oCStatus().fk_config_type = _swdoc.GetArg(\"fk_config_type\");\n\t\t_swdoc.oCStatus().flg_sc = 0;\n\t\t_swdoc.ResetModiedFlag(\"ct_statusl\");\n\t\t_swdoc.boolInserting = true;\n\t}\n\n\tapp._ecol(lbl_colour, _swdoc.oCStatus().colour_code);\n\tapp._een(lb_status, (_swdoc.oCStatus().pk_auto_id==0));\n\n\n}"},{"name":"lb_status_OnValueChanged","code":"lb_status_OnValueChanged(strValue)\n{\n\t\/\/ TODO: Add your event handler code here\n\n}"}]}}},{"appearance":{"width":"360","height":"220","backgroundColor":"#ffffff","fillColour":"#ffffff","textColour":"#000000","font":{"@size":"8","#text":"Arial"}},"javascript":{}}]}}}