{"espForm":{"configuration":{"settings":{"name":"cmdb_configtype_picker","title":"Configuration Type Selector","options":{"allowResize":"true","showMenubar":"false","showToolbar":"false","showStatusBar":"false"}},"javascript":{"methods":{"method":{"name":"(Globals)","code":"var strConfigType = \"\";\n\nfunction MF()\n{\n\treturn mainform;\n}\n\nfunction val_fields()\n{\n\tif(_swdoc.MF().lb_def.mandatory==true)\n\t{\n\t\tif(_swdoc.MF().lb_def.text==\"\")\n\t\t{\n\t\t\tMessageBox(\"The field 'Configuration Type' is a mandatory field and must be completed\",16);\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tif(_swdoc.MF().lb_top.mandatory==true)\n\t{\n\t\tif(_swdoc.MF().lb_top.text==\"\")\n\t\t{\n\t\t\tMessageBox(\"The field 'Top Level' is a mandatory field and must be completed\",16);\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\treturn true;\n\t\n}\n\nfunction reset_field(eEle)\n{\t\n\tapp._ete(eEle,\"\");\n\tapp._eva(eEle,\"\");\n}\n\nfunction disable_fields(eEle)\n{\n\tapp._een(eEle,false);\n\t_swdoc.reset_field(eEle);\n}"}}}},"layouts":{"layout":[{"appearance":{"width":"420","height":"237","backgroundColor":"#ffffff","fillColour":"#ffffff","textColour":"#000000","font":{"@size":"8","#text":"Arial"}},"controls":{"control":[{"general":{"name":"Text1","type":"Text","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"0","caption":"Top Level","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Right","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"23","left":"7","right":"103","bottom":"41"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"controlInfo":{"mouseOverCursor":"Window Default"}},{"general":{"name":"lb_top","type":"Field"},"appearance":{"index":"1","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"Rectangle"},"objectPlacement":{"position":{"top":"23","left":"108","right":"390","bottom":"41"},"scaling":{"top":"0","left":"0","right":"100","bottom":"0"}},"controlInfo":{"mouseOverCursor":"Window Default","type":"Distinct Pick List","flags":{"invisible":"false","readOnly":"false","mandatory":"true","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","comboAutoUpdate":"false","comboNewValues":"true","pickListOrderDesc":"false"},"textLineCount":"0","textInputFormat":"Text","properties":{"content":"#eeeeee","sqlSource":"swdata","distinctTable":"config_typei","distinctColumn":"pk_config_type","displayColumn":"type_display","listFilter":"sf=citypes_root","disabledBackgroundColor":"#eeeeee","borderColor":"#c0c0c0","storedQuery":"generic.select"}}},{"general":{"name":"txt","type":"Text","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"2","caption":"Level One","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Right","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"45","left":"7","right":"103","bottom":"63"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"controlInfo":{"mouseOverCursor":"Window Default"}},{"general":{"name":"lb_l1","type":"Field"},"appearance":{"index":"3","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"Rectangle"},"objectPlacement":{"position":{"top":"45","left":"108","right":"390","bottom":"63"},"scaling":{"top":"0","left":"0","right":"100","bottom":"0"}},"controlInfo":{"mouseOverCursor":"Window Default","type":"Distinct Pick List","flags":{"invisible":"false","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"true","protected":"false","noMacroExpand":"false","readOnlyInit":"false","comboAutoUpdate":"false","comboNewValues":"true","pickListOrderDesc":"false"},"textLineCount":"0","textInputFormat":"Text","properties":{"content":"#eeeeee","sqlSource":"swdata","distinctTable":"config_typei","distinctColumn":"pk_config_type","displayColumn":"type_display","disabledBackgroundColor":"#eeeeee","borderColor":"#c0c0c0","storedQuery":"generic.select"}}},{"general":{"name":"txt","type":"Text","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"4","caption":"Level Two","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Right","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"67","left":"7","right":"103","bottom":"85"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"controlInfo":{"mouseOverCursor":"Window Default"}},{"general":{"name":"lb_l2","type":"Field"},"appearance":{"index":"5","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"Rectangle"},"objectPlacement":{"position":{"top":"67","left":"108","right":"390","bottom":"85"},"scaling":{"top":"0","left":"0","right":"100","bottom":"0"}},"controlInfo":{"mouseOverCursor":"Window Default","type":"Distinct Pick List","flags":{"invisible":"false","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"true","protected":"false","noMacroExpand":"false","readOnlyInit":"false","comboAutoUpdate":"false","comboNewValues":"true","pickListOrderDesc":"false"},"textLineCount":"0","textInputFormat":"Text","properties":{"content":"#eeeeee","sqlSource":"swdata","distinctTable":"config_typei","distinctColumn":"pk_config_type","displayColumn":"type_display","disabledBackgroundColor":"#eeeeee","borderColor":"#c0c0c0","storedQuery":"generic.select"}}},{"general":{"name":"txt","type":"Text","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"6","caption":"Level Three","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Right","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"89","left":"7","right":"103","bottom":"107"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"controlInfo":{"mouseOverCursor":"Window Default"}},{"general":{"name":"lb_l3","type":"Field"},"appearance":{"index":"7","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"Rectangle"},"objectPlacement":{"position":{"top":"89","left":"108","right":"390","bottom":"107"},"scaling":{"top":"0","left":"0","right":"100","bottom":"0"}},"controlInfo":{"mouseOverCursor":"Window Default","type":"Distinct Pick List","flags":{"invisible":"false","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"true","protected":"false","noMacroExpand":"false","readOnlyInit":"false","comboAutoUpdate":"false","comboNewValues":"true","pickListOrderDesc":"false"},"textLineCount":"0","textInputFormat":"Text","properties":{"content":"#eeeeee","sqlSource":"swdata","distinctTable":"config_typei","distinctColumn":"pk_config_type","displayColumn":"type_display","disabledBackgroundColor":"#eeeeee","borderColor":"#c0c0c0","storedQuery":"generic.select"}}},{"general":{"name":"txt","type":"Text","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"8","caption":"Level Four","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Right","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"111","left":"7","right":"103","bottom":"129"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"controlInfo":{"mouseOverCursor":"Window Default"}},{"general":{"name":"lb_l4","type":"Field"},"appearance":{"index":"9","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"Rectangle"},"objectPlacement":{"position":{"top":"111","left":"108","right":"390","bottom":"129"},"scaling":{"top":"0","left":"0","right":"100","bottom":"0"}},"controlInfo":{"mouseOverCursor":"Window Default","type":"Distinct Pick List","flags":{"invisible":"false","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"true","protected":"false","noMacroExpand":"false","readOnlyInit":"false","comboAutoUpdate":"false","comboNewValues":"true","pickListOrderDesc":"false"},"textLineCount":"0","textInputFormat":"Text","properties":{"content":"#eeeeee","sqlSource":"swdata","distinctTable":"config_typei","distinctColumn":"pk_config_type","displayColumn":"type_display","disabledBackgroundColor":"#eeeeee","borderColor":"#c0c0c0","storedQuery":"generic.select"}}},{"general":{"name":"txt","type":"Text","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"10","caption":"Level Five","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Right","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"133","left":"7","right":"103","bottom":"151"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"controlInfo":{"mouseOverCursor":"Window Default"}},{"general":{"name":"lb_l5","type":"Field"},"appearance":{"index":"11","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"Rectangle"},"objectPlacement":{"position":{"top":"133","left":"108","right":"390","bottom":"151"},"scaling":{"top":"0","left":"0","right":"100","bottom":"0"}},"controlInfo":{"mouseOverCursor":"Window Default","type":"Distinct Pick List","flags":{"invisible":"false","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"true","protected":"false","noMacroExpand":"false","readOnlyInit":"false","comboAutoUpdate":"false","comboNewValues":"true","pickListOrderDesc":"false"},"textLineCount":"0","textInputFormat":"Text","properties":{"content":"#eeeeee","sqlSource":"swdata","distinctTable":"config_typei","distinctColumn":"pk_config_type","displayColumn":"type_display","disabledBackgroundColor":"#eeeeee","borderColor":"#c0c0c0","storedQuery":"generic.select"}}},{"general":{"name":"btn_select","type":"EventButton","flags":{"transparent":"false","xpStyle":"true","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"12","caption":"Select","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"}},"objectPlacement":{"position":{"top":"213","left":"310","right":"391","bottom":"234"},"scaling":{"top":"0","left":"100","right":"100","bottom":"0"}},"controlInfo":{"mouseOverCursor":"Window Default"}},{"general":{"name":"Text2","type":"Text","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"13","caption":"Configuration Type","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Right","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"190","left":"7","right":"103","bottom":"208"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"controlInfo":{"mouseOverCursor":"Window Default"}},{"general":{"name":"lb_def","type":"Field"},"appearance":{"index":"14","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"Rectangle"},"objectPlacement":{"position":{"top":"190","left":"108","right":"390","bottom":"208"},"scaling":{"top":"0","left":"0","right":"100","bottom":"0"}},"controlInfo":{"mouseOverCursor":"Window Default","type":"Distinct Pick List","flags":{"invisible":"false","readOnly":"false","mandatory":"true","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","comboAutoUpdate":"false","comboNewValues":"true","pickListOrderDesc":"false"},"textLineCount":"0","textInputFormat":"Text","properties":{"content":"#eeeeee","sqlSource":"swdata","distinctTable":"config_typei","distinctColumn":"pk_config_type","displayColumn":"type_display","disabledBackgroundColor":"#eeeeee","borderColor":"#c0c0c0","storedQuery":"generic.select"}}},{"general":{"name":"Rect1","type":"Rectange","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"15","backgroundColor":"#ffffff","foregroundColor":"#c0c0c0","font":{"@size":"0"},"borderStyle":"Rectangle","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"11","left":"32","right":"411","bottom":"167"},"scaling":{"top":"0","left":"0","right":"100","bottom":"0"}},"controlInfo":{"mouseOverCursor":"Window Default"}},{"general":{"name":"Text3","type":"Text"},"appearance":{"index":"16","caption":"CMDB Category","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Left","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"6","left":"180","right":"264","bottom":"20"},"scaling":{"top":"0","left":"50","right":"50","bottom":"0"}},"controlInfo":{"mouseOverCursor":"Window Default"}}]},"javascript":{"methods":{"method":[{"name":"lb_top_OnValueChanged","code":"lb_top_OnValueChanged(strValue)\n{\n\n\tapp._een(lb_l1, (strValue!=\"\"));\n\n\tapp._slf(lb_l1 , \"_swc_fk_config_type=\" +strValue +  \"&sf=citypes_flg_item_off\");\n\tapp._slf(lb_def , \"_swc_fk_config_type=\"+ strValue+ \"&sf=citypes_flg_item_on\");\n\n\t\n\t_swdoc.reset_field(lb_l1);\n\t_swdoc.reset_field(lb_def);\n\t\n\t_swdoc.disable_fields(lb_l2);\n\t_swdoc.disable_fields(lb_l3);\n\t_swdoc.disable_fields(lb_l4);\n\t_swdoc.disable_fields(lb_l5);\n\t\n}"},{"name":"lb_l1_OnValueChanged","code":"lb_l1_OnValueChanged(strValue)\n{\n\tapp._een(lb_l2, (strValue!=\"\"));\n\tif(strValue==\"\")\n\t{\n\t\tlb_top_OnValueChanged(lb_top.value);\n\t\n\t}\n\telse\n\t{\n\n\t\tapp._slf(lb_l2 , \"_swc_fk_config_type=\" +strValue +  \"&sf=citypes_flg_item_off\");\n\t\tapp._slf(lb_def , \"_swc_fk_config_type=\"+ strValue+ \"&sf=citypes_flg_item_on\");\n\n\t\t\n\t\t_swdoc.reset_field(lb_l2);\n\t\t_swdoc.reset_field(lb_def);\n\t\t\n\t\t_swdoc.disable_fields(lb_l3);\n\t\t_swdoc.disable_fields(lb_l4);\n\t\t_swdoc.disable_fields(lb_l5);\n\t}\n\n}"},{"name":"lb_l2_OnValueChanged","code":"lb_l2_OnValueChanged(strValue)\n{\n\tapp._een(lb_l3, (strValue!=\"\"));\n\tif(strValue==\"\")\n\t{\n\t\n\t\tlb_l1_OnValueChanged(lb_l1.value);\n\t}\n\telse\n\t{\n\n\t\tapp._slf(lb_l3 , \"_swc_fk_config_type=\" +strValue +  \"&sf=citypes_flg_item_off\");\n\t\tapp._slf(lb_def , \"_swc_fk_config_type=\"+ strValue+ \"&sf=citypes_flg_item_on\");\n\n\t\t\t\n\t\t_swdoc.reset_field(lb_l3);\n\t\t_swdoc.reset_field(lb_def);\n\t\t\n\t\t_swdoc.disable_fields(lb_l4);\n\t\t_swdoc.disable_fields(lb_l5);\n\t}\n\n\t\n}"},{"name":"lb_l3_OnValueChanged","code":"lb_l3_OnValueChanged(strValue)\n{\n\tapp._een(lb_l4, (strValue!=\"\"));\n\tif(strValue==\"\")\n\t{\n\t\tlb_l2_OnValueChanged(lb_l2.value);\t\n\t}\n\telse\n\t{\n\t\tapp._slf(lb_l4 , \"_swc_fk_config_type=\" +strValue +  \"&sf=citypes_flg_item_off\");\n\t\tapp._slf(lb_def , \"_swc_fk_config_type=\"+ strValue+ \"&sf=citypes_flg_item_on\");\n\t\t\n\t\t_swdoc.reset_field(lb_l4);\n\t\t_swdoc.reset_field(lb_def);\n\t\t\n\t\t_swdoc.disable_fields(lb_l5);\n\t}\n\n\t\n}"},{"name":"lb_l4_OnValueChanged","code":"lb_l4_OnValueChanged(strValue)\n{\n\tapp._een(lb_l5, (strValue!=\"\"));\n\tif(strValue==\"\")\n\t{\n\t\tlb_l3_OnValueChanged(lb_l3.value);\t\n\t}\n\telse\n\t{\n\t\tapp._slf(lb_l5 , \"_swc_fk_config_type=\" +strValue +  \"&sf=citypes_flg_item_off\");\n\t\tapp._slf(lb_def , \"_swc_fk_config_type=\"+ strValue+ \"&sf=citypes_flg_item_on\");\n\t\t\t\n\t\t_swdoc.reset_field(lb_l5);\n\t\t_swdoc.reset_field(lb_def);\n\t}\n\n}"},{"name":"btn_select_OnPressed","code":"btn_select_OnPressed()\n{\n\n\tvar boolContinue = _swdoc.val_fields();\n\tif(!boolContinue)\n\t{\n\t\treturn;\n\t}\n\t\/\/-- return select config type\n\tvar oListbox = null;\n\tif(lb_def.text!=\"\") oListbox = lb_def;\n\telse if(lb_l5.text !=\"\") oListbox = lb_l5;\n\telse if(lb_l4.text !=\"\") oListbox = lb_l4;\n\telse if(lb_l3.text !=\"\") oListbox = lb_l3;\n\telse if(lb_l2.text !=\"\") oListbox = lb_l2;\n\telse if(lb_l1.text !=\"\") oListbox = lb_l1;\n\telse if(lb_top.text !=\"\") oListbox = lb_top;\n\t\n\t\/\/Config Type is now set by item definition\t\n\t_swdoc.strConfigType = (oListbox == null)?\"\":oListbox.text;\n\t_swdoc.CloseForm();\n\n}"},{"name":"OnFormLoaded","code":"OnFormLoaded()\n{\n\tvar strTitle = _swdoc.GetArg(\"title\");\n\tif(strTitle!=\"\")_swdoc.SetTitle(strTitle);\n\t\n\tif(_swdoc.GetArg(\"boolDef\")==\"false\")\n\t{\n\t\tapp._ema(mainform.lb_def, false);\n\t}\n\t\n}"},{"name":"lb_def_OnValueChanged","code":"lb_def_OnValueChanged(strValue)\n{\n\n\tapp._een(lb_l1, (strValue!=\"\"));\n\t\n\tapp._slf(lb_l1 , \"_swc_fk_config_type=\"+ strValue);\n\t\n\t\/\/-- nwj - whats this??\n\tfk_config_type = '&[mainform.lb_top.text]'\n}"},{"name":"lb_l5_OnValueChanged","code":"lb_l5_OnValueChanged(strValue)\n{\n\t\/\/ TODO: Add your event handler code here\n\tif(strValue==\"\")\n\t{\n\t\tlb_l4_OnValueChanged(lb_l4.value);\t\n\t}\n\telse\n\t{\n\t\tapp._slf(lb_def , \"_swc_fk_config_type=\"+ strValue + \"&sf=citypes_flg_item_on\");\n\n\t\t_swdoc.reset_field(lb_def);\n\t}\n\n}"}]}}},{"appearance":{"width":"360","height":"220","backgroundColor":"#ffffff","fillColour":"#ffffff","textColour":"#000000","font":{"@size":"8","#text":"Arial"}},"javascript":{}}]}}}