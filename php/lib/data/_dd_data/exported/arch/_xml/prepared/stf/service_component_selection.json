{"espForm":{"configuration":{"settings":{"name":"service_component_selection","title":"Component Selection","options":{"allowResize":"true","showMenubar":"false","showToolbar":"true","showStatusBar":"false"}},"tables":{"table":{"name":"sc_rels","type":"Main Details Table","flags":"0"}},"javascript":{"methods":{"method":[{"name":"OnSaveData","code":"OnSaveData()\n{\n\t\/\/ TODO: Add your event handler code here\n\tif(!app.service.can_update(true))\n\t\treturn false;\n\t_swdoc.calc_cost();\n\treturn true;\n}"},{"name":"(Globals)","code":"var boolFigureChanged = false;\nvar strSelected = \"\";\nvar strPriceDiff = \"\";\n\nfunction oRel()\n{\n\treturn _swdoc.sc_rels;\n}\n\nfunction MF()\n{\n\treturn mainform;\n}\n\nfunction calc_cost()\n{\n\tvar strOrigCost = _swdoc.oRel().total_cost_for_item; \n\tvar strWeight = \"\";\n\tif(_swdoc.oRel().cost_weighting==\"\")\n\t{\n\t\tstrWeight = \"0\";\n\t}else\n\t\tstrWeight = _swdoc.oRel().cost_weighting;\n\t\n\t_swdoc.oRel().total_cost_for_item = app.format_float_to_decimal_str(Number(_swdoc.oRel().total_unit_cost)*Number(_swdoc.oRel().units)*( (Number(strWeight)+100)\/100));\n\n\t_swdoc.oRel().customise_diff = app.format_float_to_decimal_str(Number(_swdoc.oRel().customise_diff)+Number(_swdoc.oRel().total_cost_for_item)- Number(strOrigCost));\n\n\t_swdoc.UpdateFormFromData();\t\n}\nfunction setup_form_fields()\n{\n\n\tif(_swdoc.GetArg(\"customise\")==\"1\")\n\t{\n\t\t_swdoc.MF().Tab1.ShowTabItem(1,false);\n\t}\n\tif(_swdoc.oRel().pk_auto_id<1)\n\t{\n\t\tvar strService = _swdoc.GetArg(\"fk_service\");\n\t\t_swdoc.oRel().fk_service = strService;\n\t}\n\n}"},{"name":"OnDataSaved","code":"OnDataSaved()\n{\n\t\/\/ TODO: Add your event handler code here\n\n\t_swdoc.boolFigureChanged = true;\n}"}]}}},"layouts":{"layout":[{"appearance":{"width":"476","height":"227","backgroundColor":"#ffffff","fillColour":"#ffffff","textColour":"#000000","font":{"@size":"8","#text":"Arial"}},"controls":{"control":[{"general":{"name":"Tab1","type":"TabControl","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"0","caption":"Tab1","backgroundColor":"#ded7ce","foregroundColor":"#f7f3ef","font":{"@size":"8","#text":"Arial"},"borderStyle":"None"},"objectPlacement":{"position":{"top":"6","left":"13","right":"461","bottom":"214"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"tabStyle":"Top","tabSize":"19","items":{"item":[{"name":"Offering","properties":"56=#8aa8e4|_flags=1","textBorder":"None","textBackgroundColor":"#ffffff","controlInfo":{"mouseOverCursor":"Window Default","flags":{"invisible":"true","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","multiLine":"false"},"properties":{"tabColor":"#8aa8e4"}}},{"name":"Customisable Options","properties":"56=#ffdb75|_flags=0","textBorder":"None","textBackgroundColor":"#ffffff","controlInfo":{"mouseOverCursor":"Window Default","properties":{"tabColor":"#ffdb75"}}}]},"selectedTextFont":{"@size":"8","#text":"Arial"},"selectedTextColor":"#000000","deselectedTextColor":"#000000","tabSlopeLeft":"2","tabSlopeRight":"2","deselectedTabHeightOffset":"1","tabSpacing":"0","controlInfo":{"mouseOverCursor":"Window Default"}},{"general":{"name":"btn_view_customisable","type":"EventButton","group":"Tab1:1"},"appearance":{"index":"1","caption":"View","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"}},"objectPlacement":{"position":{"top":"37","left":"318","right":"381","bottom":"59"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"controlInfo":{"mouseOverCursor":"Window Default","flags":{"invisible":"false","skipTabStop":"false","disabled":"true","protected":"false","noMacroExpand":"false","multiLine":"false"},"properties":{"backgroundColor":"#ff9900"}}},{"general":{"name":"btn_add_customisable","type":"EventButton","group":"Tab1:1"},"appearance":{"index":"2","caption":"Select","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"}},"objectPlacement":{"position":{"top":"37","left":"385","right":"448","bottom":"59"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"controlInfo":{"mouseOverCursor":"Window Default","flags":{"invisible":"false","skipTabStop":"false","disabled":"true","protected":"false","noMacroExpand":"false","multiLine":"false"},"properties":{"backgroundColor":"#ff9900"}}},{"general":{"name":"sl_custom","type":"SqlTable","flags":{"transparent":"false","xpStyle":"true","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false","showHeader":"true","verticalGridLines":"true","horizontalGridLines":"true","autoLoad":"true","allowMultiSelect":"false"},"group":"Tab1:1"},"appearance":{"index":"3","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"Rectangle"},"objectPlacement":{"position":{"top":"64","left":"22","right":"449","bottom":"204"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"columns":{"controlInfo":[{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"false","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false","hidden":"false","allowResize":"true","allowSort":"true"},"textLineCount":"0","textInputFormat":"Text","properties":{"column":"description"},"name":"Title","width":"120","image":"-1","dataColumn":"0"},{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"false","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false","hidden":"true","allowResize":"true","allowSort":"true"},"textLineCount":"0","textInputFormat":"Text","properties":{"column":"total_unit_cost"},"name":"Unit Cost","width":"13","image":"-1","dataColumn":"1"},{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"false","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false","hidden":"true","allowResize":"true","allowSort":"true"},"textLineCount":"0","textInputFormat":"Text","properties":{"column":"fk_key"},"name":"key","width":"10","image":"-1","dataColumn":"2"},{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"false","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false","hidden":"true","allowResize":"true","allowSort":"true"},"textLineCount":"0","textInputFormat":"Text","properties":{"column":"pk_auto_id"},"name":"pk_auto_id","width":"14","image":"-1","dataColumn":"3"},{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"false","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false","hidden":"false","allowResize":"true","allowSort":"true"},"textLineCount":"0","textInputFormat":"Text","properties":{"column":"units"},"name":"Units","width":"72","image":"-1","dataColumn":"4"},{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"false","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false","hidden":"true","allowResize":"true","allowSort":"true"},"textLineCount":"0","textInputFormat":"Text","properties":{"column":"cost_weighting"},"name":"Mark Up (%)","width":"20","image":"-1","dataColumn":"5"},{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"false","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false","hidden":"true","allowResize":"true","allowSort":"true"},"textLineCount":"0","textInputFormat":"Text","properties":{"column":"total_cost_for_item"},"name":"Total Cost","width":"13","image":"-1","dataColumn":"6"},{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"false","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false","hidden":"true","allowResize":"true","allowSort":"true"},"textLineCount":"0","textInputFormat":"Text","properties":{"column":"price"},"name":"Price","width":"120","image":"-1","dataColumn":"7"},{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"false","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false","hidden":"true","allowResize":"true","allowSort":"true"},"textLineCount":"0","textInputFormat":"Text","properties":{"column":"price_diff"},"name":"Customisation Price","width":"120","image":"-1","dataColumn":"8"},{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"false","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false","hidden":"false","allowResize":"true","allowSort":"true"},"textLineCount":"0","textInputFormat":"Text","properties":{"column":"apply_type"},"name":"Apply Type","width":"120","image":"-1","dataColumn":"9"}]},"sortColumn":"-1","sortDescending":"false","headerHeight":"18","rowHeight":"16","selectedColor":"#00008b","selectedTextColor":"#ffffff","controlInfo":{"mouseOverCursor":"Window Default","properties":{"highlightStyle":"0","borderColor":"#d3c9b6","sqlSource":"swdata","table":"sc_rels","listFilter":"swc=fk_service_rels&kvs=&[sc_rels.pk_auto_id]","editRecordForm":"Form.service_component","storedQuery":"common.load_by_colname"}}},{"general":{"name":"fld_description","type":"Field","group":"Tab1:0"},"appearance":{"index":"4","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"Rectangle"},"objectPlacement":{"position":{"top":"36","left":"160","right":"410","bottom":"54"},"scaling":{"top":"0","left":"0","right":"100","bottom":"0"}},"data":{"binding":"sc_rels.description"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"false","readOnly":"false","mandatory":"true","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false"},"textLineCount":"0","textInputFormat":"Text","properties":{"disabledBackgroundColor":"#eeeeee","borderColor":"#c0c0c0"}}},{"general":{"type":"FieldName","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"5","caption":"Fk Service","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Right","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"300","left":"160","right":"270","bottom":"316"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"data":{"binding":"sc_rels.fk_service"},"controlInfo":{"mouseOverCursor":"Window Default","flags":{"invisible":"true","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","multiLine":"false"}}},{"general":{"type":"Field"},"appearance":{"index":"6","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"3-D Sunken"},"objectPlacement":{"position":{"top":"300","left":"280","right":"530","bottom":"316"},"scaling":{"top":"0","left":"0","right":"100","bottom":"0"}},"data":{"binding":"sc_rels.fk_service"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"true","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false"},"textLineCount":"0","textInputFormat":"Text","properties":{"disabledBackgroundColor":"#eeeeee"}}},{"general":{"type":"Field","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"},"group":"Tab1:0"},"appearance":{"index":"7","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"None"},"objectPlacement":{"position":{"top":"170","left":"154","right":"404","bottom":"186"},"scaling":{"top":"0","left":"0","right":"100","bottom":"0"}},"data":{"binding":"sc_rels.flg_include"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Form Flags","textLineCount":"0","textInputFormat":"Text","properties":{"disabledBackgroundColor":"#eeeeee","flagItems":"Include^1|"}}},{"general":{"type":"FieldName","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"},"group":"Tab1:0"},"appearance":{"index":"8","caption":"Unit Cost","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Right","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"58","left":"40","right":"150","bottom":"74"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"data":{"binding":"sc_rels.total_unit_cost"},"controlInfo":{"mouseOverCursor":"Window Default"}},{"general":{"name":"fld_total_unit_costs","type":"Field","group":"Tab1:0"},"appearance":{"index":"9","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"Rectangle"},"objectPlacement":{"position":{"top":"58","left":"160","right":"410","bottom":"76"},"scaling":{"top":"0","left":"0","right":"100","bottom":"0"}},"data":{"binding":"sc_rels.total_unit_cost"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Text Edit","textLineCount":"0","textInputFormat":"Text","properties":{"disabledBackgroundColor":"#eeeeee","borderColor":"#c0c0c0"}}},{"general":{"type":"FieldName","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"},"group":"Tab1:0"},"appearance":{"index":"10","caption":"Units","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Right","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"80","left":"40","right":"150","bottom":"96"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"data":{"binding":"sc_rels.units"},"controlInfo":{"mouseOverCursor":"Window Default"}},{"general":{"name":"fld_units","type":"Field","group":"Tab1:0"},"appearance":{"index":"11","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"Rectangle"},"objectPlacement":{"position":{"top":"80","left":"160","right":"410","bottom":"98"},"scaling":{"top":"0","left":"0","right":"100","bottom":"0"}},"data":{"binding":"sc_rels.units"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Text Edit","textLineCount":"0","textInputFormat":"Text","properties":{"disabledBackgroundColor":"#eeeeee","borderColor":"#c0c0c0"}}},{"general":{"name":"Label1","type":"FieldName","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"},"group":"Tab1:0"},"appearance":{"index":"12","caption":"Apply Type","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Right","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"102","left":"87","right":"150","bottom":"118"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"data":{"binding":"sc_rels.apply_type"},"controlInfo":{"mouseOverCursor":"Window Default"}},{"general":{"name":"Field1","type":"Field","group":"Tab1:0"},"appearance":{"index":"13","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"Rectangle"},"objectPlacement":{"position":{"top":"102","left":"160","right":"410","bottom":"120"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"data":{"binding":"sc_rels.apply_type"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Pick List","textLineCount":"0","textInputFormat":"Text","properties":{"image":"#eeeeee","listItems":"Per Unit|Service|","disabledBackgroundColor":"#eeeeee","borderColor":"#c0c0c0"}}},{"general":{"name":"fld_cost_weighting","type":"Field","group":"Tab1:0"},"appearance":{"index":"14","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"Rectangle"},"objectPlacement":{"position":{"top":"124","left":"160","right":"410","bottom":"142"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"data":{"binding":"sc_rels.cost_weighting"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Text Edit","textLineCount":"0","textInputFormat":"Text","properties":{"image":"#eeeeee","disabledBackgroundColor":"#eeeeee","borderColor":"#c0c0c0"}}},{"general":{"name":"btn_remove_customisable","type":"EventButton"},"appearance":{"index":"15","caption":"Remove","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"}},"objectPlacement":{"position":{"top":"260","left":"320","right":"383","bottom":"282"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"controlInfo":{"mouseOverCursor":"Window Default","flags":{"invisible":"true","skipTabStop":"false","disabled":"true","protected":"false","noMacroExpand":"false","multiLine":"false"},"properties":{"backgroundColor":"#ff9900"}}},{"general":{"name":"txt_label","type":"Text","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"},"group":"Tab1:0"},"appearance":{"index":"16","caption":"Title","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Right","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"33","left":"55","right":"150","bottom":"58"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"controlInfo":{"mouseOverCursor":"Window Default"}},{"general":{"name":"lbl_cost_weighting","type":"Text","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"},"group":"Tab1:0"},"appearance":{"index":"17","caption":"Mark Up (%)","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Right","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"118","left":"55","right":"150","bottom":"143"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"controlInfo":{"mouseOverCursor":"Window Default"}},{"general":{"name":"Label2","type":"FieldName","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"},"group":"Tab1:0"},"appearance":{"index":"18","caption":"Total Cost For Item","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Right","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"146","left":"53","right":"150","bottom":"162"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"data":{"binding":"sc_rels.total_cost_for_item"},"controlInfo":{"mouseOverCursor":"Window Default"}},{"general":{"name":"Field2","type":"Field","group":"Tab1:0"},"appearance":{"index":"19","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"Rectangle"},"objectPlacement":{"position":{"top":"146","left":"160","right":"410","bottom":"164"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"data":{"binding":"sc_rels.total_cost_for_item"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"false","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"true","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false"},"textLineCount":"0","textInputFormat":"Text","properties":{"image":"#eeeeee","borderColor":"#c0c0c0","disabledBackgroundColor":"#eeeeee"}}},{"general":{"type":"Field","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"},"group":"Tab1:0"},"appearance":{"index":"20","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"None"},"objectPlacement":{"position":{"top":"190","left":"154","right":"404","bottom":"206"},"scaling":{"top":"0","left":"0","right":"100","bottom":"0"}},"data":{"binding":"sc_rels.flg_isoptional"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Form Flags","textLineCount":"0","textInputFormat":"Text","properties":{"disabledBackgroundColor":"#eeeeee","flagItems":"Optional^1|"}}}]},"javascript":{"methods":{"method":[{"name":"OnFormLoaded","code":"OnFormLoaded(bDataReloaded)\n{\n\t\/\/ TODO: Add your event handler code here\n\t_swdoc.setup_form_fields();\n\n}"},{"name":"fld_total_unit_costs_OnValueChanged","code":"fld_total_unit_costs_OnValueChanged(strValue)\n{\n\t\/\/ TODO: Add your event handler code here\n\tservice_costs.total_unit_cost = app.format_float_to_decimal_str(strValue);\n\t_swdoc.calc_cost();\n}"},{"name":"btn_add_customisable_OnPressed","code":"btn_add_customisable_OnPressed()\n{\n\tif(!app.service.can_update(true))\n\t\treturn false;\n\t\/\/ TODO: Add your event handler code here\n\tvar key = app.g.sl_getprikeyvalue(sl_custom, sl_custom.curSel);\n\tvar priceDiff = app.g.sl_getcolvalue(sl_custom, sl_custom.curSel, 'price_diff');\n\n\t_swdoc.strSelected = key;\n\t_swdoc.strPriceDiff = priceDiff;\n\t_swdoc.CloseForm();\n\n}"},{"name":"btn_remove_customisable_OnPressed","code":"btn_remove_customisable_OnPressed()\n{\n\tif(!app.service.can_update(true))\n\t\treturn false;\n\t\/\/ TODO: Add your event handler code here\n\tapp.g.sqllist_deldbrow(sl_custom, -1, \"\", null, \"Remove the currently selected component?\");\n\t\t\n\tsl_custom.Refresh();\n\tif(sl_custom.rowCount()<1)\n\t{\n\t\tif(service_rels.flg_cancustomise!=\"0\") \n\t\t{\n\t\t\tservice_rels.flg_cancustomise=\"0\";\n\t\t\t_swdoc.Save(0);\n\t\t}\n\t}\n\tsl_custom_OnItemSelected(-1);\n\t\n\n}"},{"name":"btn_view_customisable_OnPressed","code":"btn_view_customisable_OnPressed()\n{\n\tvar strKeyValue = sl_custom.GetItemTextRaw(sl_custom.curSel,'pk_auto_id');\n\tvar varType = sl_custom.GetItemTextRaw(sl_custom.curSel,'cost_type');\n\n\tapp.OpenFormForEdit(\"service_component\", strKeyValue, \"customise=1&selection=1\", true, function(){\n\t\t_swdoc.MF().sl_custom.Refresh();\n\t});\n}"},{"name":"fld_units_OnValueChanged","code":"fld_units_OnValueChanged(strValue)\n{\n\t\/\/ TODO: Add your event handler code here\n\n\t_swdoc.calc_cost();\n}"},{"name":"fld_cost_weighting_OnValueChanged","code":"fld_cost_weighting_OnValueChanged(strValue)\n{\n\t\/\/ TODO: Add your event handler code here\n\t_swdoc.calc_cost();\n\n}"},{"name":"sl_custom_OnItemSelected","code":"sl_custom_OnItemSelected(nRow)\n{\n\t\/\/ TODO: Add your event handler code here\n\tapp._een(btn_view_customisable,(nRow>-1));\n\tapp._een(btn_add_customisable,(nRow>-1));\n\n}"},{"name":"sl_custom_OnItemDoubleClicked","code":"sl_custom_OnItemDoubleClicked(nRow, nCol)\n{\n\t\/\/ TODO: Add your event handler code here\n\tvar strKeyValue = app.g.sl_getprikeyvalue(sl_custom, nRow);\n\tapp.OpenFormForEdit(\"service_component\", strKeyValue, \"customise=1&selection=1\", true, function(){\n\t\treturn false;\n\t});\n}"}]}}},{"appearance":{"width":"360","height":"220","backgroundColor":"#ffffff","fillColour":"#ffffff","textColour":"#000000","font":{"@size":"8","#text":"Arial"}},"javascript":{}}]}}}