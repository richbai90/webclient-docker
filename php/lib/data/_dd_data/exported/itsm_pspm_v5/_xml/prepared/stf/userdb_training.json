{"espForm":{"configuration":{"settings":{"name":"userdb_training","title":"Customer Training","description":"Add \/ Edit a userdb training record","options":{"allowResize":"true","showMenubar":"false","showToolbar":"true","showStatusBar":"false"}},"tables":{"table":{"name":"userdb_train","type":"Main Details Table","flags":"2"}},"javascript":{"methods":{"method":{"name":"(Globals)","code":"var strStatus = \"\";\n\nfunction oCTraining()\n{\n\treturn _swdoc.userdb_train;\n}\n\nfunction MF()\n{\n\treturn _swdoc.mainform;\n}"}}}},"layouts":{"layout":[{"appearance":{"width":"429","height":"122","backgroundColor":"#ffffff","fillColour":"#ffffff","textColour":"#000000","font":{"@size":"8","#text":"Arial"}},"controls":{"control":[{"general":{"name":"lb_course","type":"Field"},"appearance":{"index":"0","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"Rectangle"},"objectPlacement":{"position":{"top":"20","left":"89","right":"407","bottom":"38"},"scaling":{"top":"0","left":"0","right":"100","bottom":"0"}},"data":{"binding":"userdb_train.fk_trainingcode"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Distinct Pick List","flags":{"invisible":"false","readOnly":"false","mandatory":"true","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","comboAutoUpdate":"false","comboNewValues":"true","pickListOrderDesc":"false"},"textLineCount":"0","textInputFormat":"Text","properties":{"content":"#eeeeee","disabledBackgroundColor":"#eeeeee","sqlSource":"swdata","distinctTable":"me_training","distinctColumn":"pk_code","displayColumn":"course","borderColor":"#c0c0c0","storedQuery":"common.filterByTableValues"}}},{"general":{"name":"Field1","type":"Field"},"appearance":{"index":"1","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"Rectangle"},"objectPlacement":{"position":{"top":"64","left":"89","right":"211","bottom":"82"},"scaling":{"top":"0","left":"0","right":"50","bottom":"0"}},"data":{"binding":"userdb_train.startdatex"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Date\/Time Control","flags":{"invisible":"false","readOnly":"false","mandatory":"true","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","colorDateIndicator":"false"},"textLineCount":"0","textInputFormat":"Text","properties":{"content":"#eeeeee","dateFormatMode":"0","disabledBackgroundColor":"#eeeeee","borderColor":"#c0c0c0"}}},{"general":{"name":"fld_enddatex","type":"Field"},"appearance":{"index":"2","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"Rectangle"},"objectPlacement":{"position":{"top":"64","left":"285","right":"407","bottom":"82"},"scaling":{"top":"0","left":"50","right":"100","bottom":"0"}},"data":{"binding":"userdb_train.enddatex"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Date\/Time Control","flags":{"invisible":"false","readOnly":"false","mandatory":"true","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","colorDateIndicator":"false"},"textLineCount":"0","textInputFormat":"Text","properties":{"content":"#eeeeee","dateFormatMode":"0","disabledBackgroundColor":"#eeeeee","borderColor":"#c0c0c0"}}},{"general":{"name":"fld_status","type":"Field"},"appearance":{"index":"3","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"Rectangle"},"objectPlacement":{"position":{"top":"86","left":"285","right":"407","bottom":"104"},"scaling":{"top":"0","left":"50","right":"100","bottom":"0"}},"data":{"binding":"userdb_train.status"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Pick List","flags":{"invisible":"false","readOnly":"false","mandatory":"true","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","comboAutoUpdate":"false","comboNewValues":"true","useDDPickList":"false"},"textLineCount":"0","textInputFormat":"Text","properties":{"content":"#eeeeee","dateFormatMode":"1","disabledBackgroundColor":"#eeeeee","borderColor":"#c0c0c0","listItems":"Awaiting|Completed|Failed|"}}},{"general":{"name":"Label1","type":"FieldName","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"4","caption":"Course Name","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Right","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"20","left":"8","right":"85","bottom":"38"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"data":{"binding":"userdb_train.course"},"controlInfo":{"mouseOverCursor":"Window Default"}},{"general":{"name":"Label1","type":"FieldName","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"5","caption":"Start","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Right","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"64","left":"8","right":"85","bottom":"82"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"data":{"binding":"userdb_train.startdatex"},"controlInfo":{"mouseOverCursor":"Window Default"}},{"general":{"name":"Label1","type":"FieldName","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"6","caption":"End","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Right","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"64","left":"214","right":"281","bottom":"82"},"scaling":{"top":"0","left":"50","right":"50","bottom":"0"}},"data":{"binding":"userdb_train.enddatex"},"controlInfo":{"mouseOverCursor":"Window Default","properties":{"borderColor":"#c0c0c0"}}},{"general":{"name":"Label2","type":"FieldName","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"7","caption":"Provider","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Right","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"42","left":"8","right":"85","bottom":"60"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"data":{"binding":"userdb_train.provider"},"controlInfo":{"mouseOverCursor":"Window Default"}},{"general":{"name":"lb_provider","type":"Field"},"appearance":{"index":"8","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"Rectangle"},"objectPlacement":{"position":{"top":"42","left":"89","right":"407","bottom":"60"},"scaling":{"top":"0","left":"0","right":"100","bottom":"0"}},"data":{"binding":"userdb_train.fk_trainingcode"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Distinct Pick List","flags":{"invisible":"false","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"true","protected":"false","noMacroExpand":"false","readOnlyInit":"false","comboAutoUpdate":"false","comboNewValues":"true","pickListOrderDesc":"false"},"textLineCount":"0","textInputFormat":"Text","properties":{"content":"#eeeeee","disabledBackgroundColor":"#eeeeee","sqlSource":"swdata","distinctTable":"me_training","distinctColumn":"pk_code","displayColumn":"provider","borderColor":"#c0c0c0","storedQuery":"common.filterByTableValues"}}},{"general":{"name":"Label1","type":"FieldName","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"9","caption":"Status","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Right","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"86","left":"214","right":"281","bottom":"104"},"scaling":{"top":"0","left":"50","right":"50","bottom":"0"}},"data":{"binding":"userdb_train.status"},"controlInfo":{"mouseOverCursor":"Window Default","properties":{"borderColor":"#c0c0c0"}}}]},"javascript":{"methods":{"method":[{"name":"lb_course_OnValueChanged","code":"lb_course_OnValueChanged(strValue)\n{\n\t_swdoc.oCTraining().course = lb_course.display;\n\t_ete(lb_provider, strValue);\n\t_swdoc.oCTraining().provider = lb_provider.display;\n\t_swdoc.UpdateFormFromData();\n\t\n}"},{"name":"OnFormLoaded","code":"OnFormLoaded()\n{\n\t\/\/-- s et defaults\n\tif(_swdoc.oCTraining().pk_auto_id==0)\n\t{\n\t\t_swdoc.oCTraining().fk_keysearch = _swdoc.GetArg(\"fk_keysearch\");\t\t\n\t\t_swdoc.ResetModiedFlag(\"userdb_train\");\n\t}\n\telse\n\t{\n\t\t_swdoc.strStatus = userdb_train.status;\n\t}\n\t\n}"},{"name":"fld_status_OnValueChanged","code":"fld_status_OnValueChanged(strValue)\n{\n\t\/\/ TODO: Add your event handler code here\n\tif(strValue==\"Completed\")\n\t{\n\t\tvar intEndDatex = app.g.fix_epoch(userdb_train.enddatex);\n\t\tvar intCurrentTime = app.global.GetCurrentEpocTime();\n\t\tif(intCurrentTime<intEndDatex || intEndDatex==0)\n\t\t{\n\t\t\tMessageBox(\"Cannot set status to Completed until after the end date of training.\");\n\t\t\tuserdb_train.status = _swdoc.strStatus;\n\t\t\t_swdoc.UpdateFormFromData();\n\t\t\treturn false;\n\t\t}\n\t\t\n\t\n\t}\n\t_swdoc.strStatus = strValue;\n\t\n}"},{"name":"Field1_OnValueChanged","code":"Field1_OnValueChanged(strValue)\n{\n\t\/\/ TODO: Add your event handler code here\n\tif(app.g.fix_epoch(userdb_train.enddatex)>0)\n\t{\n\t\tif(strValue>app.g.fix_epoch(userdb_train.enddatex))\n\t\t{\n\t\t\tuserdb_train.startdatex = 0;\n\t\t\t_swdoc.UpdateFormFromData();\n\t\t\tMessageBox(\"Start date cannot be after the end date.\");\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n}"},{"name":"fld_enddatex_OnValueChanged","code":"fld_enddatex_OnValueChanged(strValue)\n{\n\t\/\/ TODO: Add your event handler code here\n\tif(app.g.fix_epoch(userdb_train.startdatex)>0)\n\t{\n\t\tif(strValue<app.g.fix_epoch(userdb_train.startdatex))\n\t\t{\n\t\t\tuserdb_train.enddatex = 0;\n\t\t\t_swdoc.UpdateFormFromData();\n\t\t\tMessageBox(\"End date cannot be before the start date.\");\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n}"}]}}},{"appearance":{"width":"360","height":"220","backgroundColor":"#ffffff","fillColour":"#ffffff","textColour":"#000000","font":{"@size":"8","#text":"Arial"}},"javascript":{}}]}}}