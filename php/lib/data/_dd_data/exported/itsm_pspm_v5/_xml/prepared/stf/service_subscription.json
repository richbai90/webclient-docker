{"espForm":{"configuration":{"settings":{"name":"service_subscription","title":"Service Subscription","options":{"allowResize":"true","showMenubar":"false","showToolbar":"true","showStatusBar":"false"}},"tables":{"table":{"name":"sc_subscription","type":"Main Details Table","flags":"2"}},"javascript":{"methods":{"method":[{"name":"(Globals)","code":"var boolFigureChanged = false;\nvar origValue = \"\";\n\nfunction MF()\n{\n\treturn mainform;\n}\n\nfunction ServSubs()\n{\n\treturn _swdoc.sc_subscription;\n}\n\n\nfunction setup_form_fields()\n{\n\t_swdoc.refresh_service_levels();\n\tvar boolAllowEdit = _swdoc.MF().fld_chargable.value==1;\n\t\n\t_een(_swdoc.MF().fld_unit_charge,boolAllowEdit);\n\t_een(_swdoc.MF().fld_mark_up,boolAllowEdit);\n\t_een(_swdoc.MF().fld_units,boolAllowEdit);\n\t_swdoc.origValue = sc_subscription.request_price;\n}\n\nfunction recalculate()\n{\n\tvar strRev = parseFloat(_swdoc.ServSubs().unit_charge)*parseFloat(_swdoc.ServSubs().units)*((100+parseFloat(_swdoc.ServSubs().mark_up))\/100);\n\tstrRev = String(strRev);\n\tvar strIndex = strRev.indexOf(\".\",0);\n\tif(strIndex>-1){\n\t\tvar strCharge = strRev.substr(0, strIndex+3);\n\t\t\n\t\tif((strIndex+3)-strCharge.length)\n\t\t\tstrCharge += \"0\";\n\t\t_swdoc.ServSubs().total_charge = strCharge;\n\t}else\n\t{\n\t\t_swdoc.ServSubs().total_charge = strRev+\".00\";\n\t}\n\n\t_swdoc.UpdateFormFromData();\n}\n\nfunction refresh_service_levels()\n{\n\tvar strFilter = \"swc=FK_SUBSCRIPTION&kvs=\"+_swdoc.ServSubs().pk_id;\n\tvar strAppcodes = oSettings.get_setting(\"strFilterAppcodeSLAEntities\");\n\tif(strAppcodes!=\"\" && strAppcodes!=false)\n\t\tstrFilter+=\"&_acin=\"+strAppcodes;\n\t_slf(_swdoc.MF().sl_service_sla2,strFilter);\n\t_swdoc.MF().sl_service_sla2.Refresh();\n\n\tvar x = app.g.sqllist_get_valuesdel(_swdoc.MF().sl_service_sla2, \"fk_sla\", \",\", \"'\");\n\tvar strFilter = \"swc=fk_service&kvs=\"+_swdoc.ServSubs().fk_service+\"&_exc=fk_sla&_exv=\"+x;\n\tif(strAppcodes!=\"\" && strAppcodes!=false)\n\t\tstrFilter+=\"&_acin=\"+strAppcodes;\n\t_slf(_swdoc.MF().sl_service_sla1,strFilter);\n\t_swdoc.MF().sl_service_sla1.Refresh();\n\n}"},{"name":"OnDataSaved","code":"OnDataSaved()\n{\n\t\/\/ TODO: Add your event handler code here\n\t_swdoc.boolFigureChanged = true;\n\n}"},{"name":"OnSaveData","code":"OnSaveData()\n{\n\t\/\/ TODO: Add your event handler code here\n\tif(!app.service.can_update(true))\n\t\treturn false;\n\n\tvar x = app.g.get_record(\"sc_folio\", sc_subscription.fk_service);\n\tif(parseFloat(x.cost_request)>parseFloat(sc_subscription.request_price))\n\t{\n\t\tvar boolContinue = confirm('The price for this customer is less than the total cost of providing the request.\\nWould you like to continue?');\n\t\tif(boolContinue==false)\n\t\t\treturn false;\n\t}\n\treturn true;\n}"}]}}},"layouts":{"layout":[{"appearance":{"width":"438","height":"443","backgroundColor":"#ffffff","fillColour":"#f2eedd","textColour":"#000000","font":{"@size":"8","#text":"Arial"}},"controls":{"control":[{"general":{"type":"FieldName","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"0","caption":"Subscriber","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Right","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"30","left":"13","right":"123","bottom":"46"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"data":{"binding":"sc_subscription.fk_me_display"},"controlInfo":{"mouseOverCursor":"Window Default"}},{"general":{"type":"Field"},"appearance":{"index":"1","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"Rectangle"},"objectPlacement":{"position":{"top":"30","left":"130","right":"432","bottom":"48"},"scaling":{"top":"0","left":"0","right":"100","bottom":"0"}},"data":{"binding":"sc_subscription.fk_me_display"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"false","readOnly":"true","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"true","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false"},"textLineCount":"0","textInputFormat":"Text","properties":{"disabledBackgroundColor":"#eeeeee","borderColor":"#c0c0c0"}}},{"general":{"type":"FieldName","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"2","caption":"Chargeable","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Right","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"76","left":"13","right":"123","bottom":"91"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"data":{"binding":"sc_subscription.flg_chargable"},"controlInfo":{"mouseOverCursor":"Window Default"}},{"general":{"name":"fld_chargable","type":"Field"},"appearance":{"index":"3","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"Rectangle"},"objectPlacement":{"position":{"top":"75","left":"130","right":"432","bottom":"93"},"scaling":{"top":"0","left":"0","right":"100","bottom":"0"}},"data":{"binding":"sc_subscription.flg_chargable"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Pick List (Numeric Mode)","flags":{"invisible":"false","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","comboAutoUpdate":"false","comboNewValues":"false","useDDPickList":"false"},"textLineCount":"0","textInputFormat":"Text","properties":{"disabledBackgroundColor":"#eeeeee","defaultValue":"1","listItems":"No^0|Yes^1|","borderColor":"#c0c0c0"}}},{"general":{"type":"FieldName","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"4","caption":"Mark Up","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Right","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"170","left":"440","right":"550","bottom":"186"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"data":{"binding":"sc_subscription.mark_up"},"controlInfo":{"mouseOverCursor":"Window Default","flags":{"invisible":"true","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","multiLine":"false"}}},{"general":{"name":"fld_mark_up","type":"Field"},"appearance":{"index":"5","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"Rectangle"},"objectPlacement":{"position":{"top":"170","left":"560","right":"810","bottom":"188"},"scaling":{"top":"0","left":"0","right":"100","bottom":"0"}},"data":{"binding":"sc_subscription.mark_up"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"true","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false"},"textLineCount":"0","textInputFormat":"Text","properties":{"disabledBackgroundColor":"#eeeeee","borderColor":"#c0c0c0"}}},{"general":{"type":"FieldName","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"6","caption":"Start Date","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Right","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"53","left":"13","right":"123","bottom":"69"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"data":{"binding":"sc_subscription.start_datex"},"controlInfo":{"mouseOverCursor":"Window Default"}},{"general":{"type":"Field"},"appearance":{"index":"7","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"Rectangle"},"objectPlacement":{"position":{"top":"53","left":"130","right":"432","bottom":"71"},"scaling":{"top":"0","left":"0","right":"100","bottom":"0"}},"data":{"binding":"sc_subscription.start_datex"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Date\/Time Control","textLineCount":"0","textInputFormat":"Text","properties":{"disabledBackgroundColor":"#eeeeee","borderColor":"#c0c0c0","dateFormatMode":"0"}}},{"general":{"type":"FieldName","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"8","caption":"Total Charge","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Right","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"190","left":"440","right":"550","bottom":"206"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"data":{"binding":"sc_subscription.total_charge"},"controlInfo":{"mouseOverCursor":"Window Default","flags":{"invisible":"true","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","multiLine":"false"}}},{"general":{"name":"fld_total_charge","type":"Field"},"appearance":{"index":"9","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"Rectangle"},"objectPlacement":{"position":{"top":"190","left":"560","right":"810","bottom":"208"},"scaling":{"top":"0","left":"0","right":"100","bottom":"0"}},"data":{"binding":"sc_subscription.total_charge"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"true","readOnly":"true","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"true","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false"},"textLineCount":"0","textInputFormat":"Text","properties":{"disabledBackgroundColor":"#eeeeee","inputMask":"##.##","borderColor":"#c0c0c0"}}},{"general":{"type":"FieldName","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"10","caption":"Subscription Type","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Right","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"7","left":"13","right":"123","bottom":"23"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"data":{"binding":"sc_subscription.type"},"controlInfo":{"mouseOverCursor":"Window Default"}},{"general":{"name":"fld_type","type":"Field"},"appearance":{"index":"11","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"Rectangle"},"objectPlacement":{"position":{"top":"7","left":"130","right":"432","bottom":"25"},"scaling":{"top":"0","left":"0","right":"100","bottom":"0"}},"data":{"binding":"sc_subscription.type"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"false","readOnly":"true","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"true","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false"},"textLineCount":"0","textInputFormat":"Text","properties":{"disabledBackgroundColor":"#eeeeee","borderColor":"#c0c0c0"}}},{"general":{"type":"FieldName","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"12","caption":"Unit Charge","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Right","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"120","left":"440","right":"550","bottom":"136"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"data":{"binding":"sc_subscription.unit_charge"},"controlInfo":{"mouseOverCursor":"Window Default","flags":{"invisible":"true","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","multiLine":"false"}}},{"general":{"name":"fld_unit_charge","type":"Field"},"appearance":{"index":"13","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"Rectangle"},"objectPlacement":{"position":{"top":"120","left":"560","right":"810","bottom":"138"},"scaling":{"top":"0","left":"0","right":"100","bottom":"0"}},"data":{"binding":"sc_subscription.unit_charge"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"true","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false"},"textLineCount":"0","textInputFormat":"Text","properties":{"disabledBackgroundColor":"#eeeeee","borderColor":"#c0c0c0"}}},{"general":{"type":"FieldName","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"14","caption":"Units","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Right","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"150","left":"440","right":"550","bottom":"166"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"data":{"binding":"sc_subscription.units"},"controlInfo":{"mouseOverCursor":"Window Default","flags":{"invisible":"true","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","multiLine":"false"}}},{"general":{"name":"fld_units","type":"Field"},"appearance":{"index":"15","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"Rectangle"},"objectPlacement":{"position":{"top":"150","left":"560","right":"810","bottom":"168"},"scaling":{"top":"0","left":"0","right":"100","bottom":"0"}},"data":{"binding":"sc_subscription.units"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"true","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false"},"textLineCount":"0","textInputFormat":"Text","properties":{"disabledBackgroundColor":"#eeeeee","borderColor":"#c0c0c0"}}},{"general":{"name":"Label1","type":"FieldName","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"16","caption":"Charge Type","backgroundColor":"#f2eedd","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Left","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"100","left":"480","right":"550","bottom":"116"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"data":{"binding":"sc_subscription.charge_type"},"controlInfo":{"mouseOverCursor":"Window Default","flags":{"invisible":"true","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","multiLine":"false"}}},{"general":{"name":"Field1","type":"Field"},"appearance":{"index":"17","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"Rectangle"},"objectPlacement":{"position":{"top":"100","left":"560","right":"810","bottom":"118"},"scaling":{"top":"0","left":"0","right":"100","bottom":"0"}},"data":{"binding":"sc_subscription.charge_type"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Pick List","flags":{"invisible":"true","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","comboAutoUpdate":"false","comboNewValues":"false","useDDPickList":"false"},"textLineCount":"0","textInputFormat":"Text","properties":{"image":"#eeeeee","listItems":"N\/A|Per User|Percent|","disabledBackgroundColor":"#eeeeee","borderColor":"#c0c0c0"}}},{"general":{"name":"sl_service_sla1","type":"SqlTable","flags":{"transparent":"false","xpStyle":"true","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false","showHeader":"true","verticalGridLines":"true","horizontalGridLines":"true","autoLoad":"true","allowMultiSelect":"false"},"group":"Tab1:0"},"appearance":{"index":"18","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"Rectangle"},"objectPlacement":{"position":{"top":"219","left":"23","right":"419","bottom":"427"},"scaling":{"top":"0","left":"0","right":"100","bottom":"100"}},"columns":{"controlInfo":[{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"false","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false","hidden":"true","allowResize":"true","allowSort":"true"},"textLineCount":"0","textInputFormat":"Text","properties":{"column":"pk_auto_id"},"name":"auto id","width":"2","image":"-1","dataColumn":"0"},{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"false","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false","hidden":"false","allowResize":"true","allowSort":"true"},"textLineCount":"0","textInputFormat":"Text","properties":{"column":"fk_sla_name"},"name":"Service Level","width":"137","image":"-1","dataColumn":"1"},{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"false","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false","hidden":"false","allowResize":"true","allowSort":"true"},"textLineCount":"0","textInputFormat":"Text","properties":{"column":"cost"},"name":"Cost","width":"120","image":"-1","dataColumn":"2"},{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"false","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false","hidden":"false","allowResize":"true","allowSort":"true"},"textLineCount":"0","textInputFormat":"Text","properties":{"column":"price"},"name":"Price","width":"120","image":"-1","dataColumn":"3"},{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"false","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false","hidden":"true","allowResize":"true","allowSort":"true"},"textLineCount":"0","textInputFormat":"Text","properties":{"column":"fk_sla"},"name":"FK_SLA","width":"120","image":"-1","dataColumn":"4"},{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"false","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false","hidden":"true","allowResize":"true","allowSort":"true"},"textLineCount":"0","textInputFormat":"Text","properties":{"column":"appcode"},"name":"appcode","width":"120","image":"-1","dataColumn":"5"}]},"sortColumn":"-1","sortDescending":"false","headerHeight":"18","rowHeight":"16","selectedColor":"#00008b","selectedTextColor":"#ffffff","controlInfo":{"mouseOverCursor":"Window Default","properties":{"highlightStyle":"0","borderColor":"#808080","newRecordForm":"Form.service_sla","editRecordForm":"Form.service_sla","listFilter":"swc=fk_service&kvs=&[sc_subscription.fk_service]","table":"sc_sla","sqlSource":"swdata","storedQuery":"catalog.load_slas_for_subscription"}}},{"general":{"name":"sl_service_sla2","type":"SqlTable","flags":{"transparent":"false","xpStyle":"true","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false","showHeader":"true","verticalGridLines":"true","horizontalGridLines":"true","autoLoad":"true","allowMultiSelect":"false"},"group":"Tab1:1"},"appearance":{"index":"19","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"Rectangle"},"objectPlacement":{"position":{"top":"219","left":"23","right":"419","bottom":"427"},"scaling":{"top":"0","left":"0","right":"100","bottom":"100"}},"columns":{"controlInfo":[{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"false","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false","hidden":"true","allowResize":"true","allowSort":"true"},"textLineCount":"0","textInputFormat":"Text","properties":{"column":"pk_auto_id"},"name":"auto id","width":"8","image":"-1","dataColumn":"0"},{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"false","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false","hidden":"false","allowResize":"true","allowSort":"true"},"textLineCount":"0","textInputFormat":"Text","properties":{"column":"fk_sla_name"},"name":"Available Service Level","width":"132","image":"-1","dataColumn":"1"},{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"false","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false","hidden":"false","allowResize":"true","allowSort":"true"},"textLineCount":"0","textInputFormat":"Text","properties":{"column":"cost"},"name":"Cost","width":"120","image":"-1","dataColumn":"2"},{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"false","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false","hidden":"false","allowResize":"true","allowSort":"true"},"textLineCount":"0","textInputFormat":"Text","properties":{"column":"price"},"name":"Price","width":"120","image":"-1","dataColumn":"3"},{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"false","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false","hidden":"true","allowResize":"true","allowSort":"true"},"textLineCount":"0","textInputFormat":"Text","properties":{"column":"total_cost"},"name":"Total Cost","width":"5","image":"-1","dataColumn":"4"},{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"false","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false","hidden":"true","allowResize":"true","allowSort":"true"},"textLineCount":"0","textInputFormat":"Text","properties":{"column":"fk_sla"},"name":"FK_SLA","width":"120","image":"-1","dataColumn":"5"},{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"false","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false","hidden":"true","allowResize":"true","allowSort":"true"},"textLineCount":"0","textInputFormat":"Text","properties":{"column":"appcode"},"name":"appcode","width":"120","image":"-1","dataColumn":"6"},{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"false","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false","hidden":"false","allowResize":"true","allowSort":"true"},"textLineCount":"0","textInputFormat":"Text","properties":{"column":"priority"},"name":"Priority","width":"120","image":"-1","dataColumn":"7"}]},"sortColumn":"-1","sortDescending":"false","headerHeight":"18","rowHeight":"16","selectedColor":"#00008b","selectedTextColor":"#ffffff","controlInfo":{"mouseOverCursor":"Window Default","properties":{"highlightStyle":"0","borderColor":"#808080","newRecordForm":"Form.service_subscription_sla","editRecordForm":"Form.service_subscription_sla","listFilter":"swc=fk_subscription&kvs=&[sc_subscription.pk_id]","table":"sc_sla","sqlSource":"swdata","storedQuery":"common.load_by_colname"}}},{"general":{"name":"btn_del_sla","type":"EventButton","group":"Tab1:1"},"appearance":{"index":"20","caption":"Remove","backgroundColor":"#f2eedd","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"}},"objectPlacement":{"position":{"top":"197","left":"364","right":"420","bottom":"214"},"scaling":{"top":"0","left":"100","right":"100","bottom":"0"}},"controlInfo":{"mouseOverCursor":"Window Default","flags":{"invisible":"false","skipTabStop":"false","disabled":"true","protected":"false","noMacroExpand":"false","multiLine":"false"},"properties":{"backgroundColor":"#ff9900"}}},{"general":{"name":"btn_view_sla","type":"EventButton","group":"Tab1:1"},"appearance":{"index":"21","caption":"View","backgroundColor":"#f2eedd","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"}},"objectPlacement":{"position":{"top":"197","left":"303","right":"359","bottom":"214"},"scaling":{"top":"0","left":"100","right":"100","bottom":"0"}},"controlInfo":{"mouseOverCursor":"Window Default","flags":{"invisible":"false","skipTabStop":"false","disabled":"true","protected":"false","noMacroExpand":"false","multiLine":"false"},"properties":{"backgroundColor":"#ff9900"}}},{"general":{"name":"btn_add_sla","type":"EventButton","group":"Tab1:0"},"appearance":{"index":"22","caption":"Add","backgroundColor":"#f2eedd","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"}},"objectPlacement":{"position":{"top":"197","left":"364","right":"420","bottom":"214"},"scaling":{"top":"0","left":"100","right":"100","bottom":"0"}},"controlInfo":{"mouseOverCursor":"Window Default","flags":{"invisible":"false","skipTabStop":"false","disabled":"true","protected":"false","noMacroExpand":"false","multiLine":"false"},"properties":{"backgroundColor":"#ff9900"}}},{"general":{"name":"Label3","type":"FieldName","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"23","caption":"Subscription Price","backgroundColor":"#f2eedd","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Left","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"97","left":"28","right":"123","bottom":"113"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"data":{"binding":"sc_subscription.subscription_price"},"controlInfo":{"mouseOverCursor":"Window Default"}},{"general":{"name":"Field3","type":"Field"},"appearance":{"index":"24","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"Rectangle"},"objectPlacement":{"position":{"top":"97","left":"130","right":"432","bottom":"115"},"scaling":{"top":"0","left":"0","right":"100","bottom":"0"}},"data":{"binding":"sc_subscription.subscription_price"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"false","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"true","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false"},"textLineCount":"0","textInputFormat":"Text","properties":{"image":"#eeeeee","disabledBackgroundColor":"#eeeeee","borderColor":"#c0c0c0"}}},{"general":{"name":"Label4","type":"FieldName","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"25","caption":"Request Price","backgroundColor":"#f2eedd","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Left","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"119","left":"48","right":"123","bottom":"136"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"data":{"binding":"sc_subscription.request_price"},"controlInfo":{"mouseOverCursor":"Window Default"}},{"general":{"name":"Field4","type":"Field"},"appearance":{"index":"26","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"Rectangle"},"objectPlacement":{"position":{"top":"119","left":"130","right":"432","bottom":"137"},"scaling":{"top":"0","left":"0","right":"100","bottom":"0"}},"data":{"binding":"sc_subscription.request_price"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Text Edit","textLineCount":"0","textInputFormat":"Text","properties":{"image":"#eeeeee","borderColor":"#c0c0c0","disabledBackgroundColor":"#eeeeee"}}},{"general":{"name":"Label5","type":"FieldName","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"27","caption":"Can View Prices","backgroundColor":"#f2eedd","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Left","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"141","left":"36","right":"123","bottom":"157"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"data":{"binding":"sc_subscription.permis_price"},"controlInfo":{"mouseOverCursor":"Window Default"}},{"general":{"name":"Field5","type":"Field"},"appearance":{"index":"28","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"Rectangle"},"objectPlacement":{"position":{"top":"141","left":"130","right":"432","bottom":"159"},"scaling":{"top":"0","left":"0","right":"100","bottom":"0"}},"data":{"binding":"sc_subscription.permis_price"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Pick List (Numeric Mode)","flags":{"invisible":"false","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","comboAutoUpdate":"false","comboNewValues":"false","useDDPickList":"false"},"textLineCount":"0","textInputFormat":"Text","properties":{"defaultValue":"0","listItems":"Yes^1|No^0|","image":"#eeeeee","borderColor":"#c0c0c0","disabledBackgroundColor":"#eeeeee"}}},{"general":{"name":"Tab1","type":"TabControl","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"29","caption":"Tab1","backgroundColor":"#ded7ce","foregroundColor":"#f7f3ef","font":{"@size":"8","#text":"Arial"},"borderStyle":"None"},"objectPlacement":{"position":{"top":"171","left":"14","right":"430","bottom":"438"},"scaling":{"top":"0","left":"0","right":"100","bottom":"100"}},"tabStyle":"Top","tabSize":"19","items":{"item":[{"name":"Available SLAs","properties":"56=#8aa8e4|_flags=0","textBorder":"None","textBackgroundColor":"#ffffff","controlInfo":{"mouseOverCursor":"Window Default","properties":{"tabColor":"#8aa8e4"}}},{"name":"Subscribed SLAs","properties":"56=#ffdb75|_flags=0","textBorder":"None","textBackgroundColor":"#ffffff","controlInfo":{"mouseOverCursor":"Window Default","properties":{"tabColor":"#ffdb75"}}},{"name":"Default SLAs","properties":"56=#bdcd9f|_flags=0","textBorder":"None","textBackgroundColor":"#ffffff","controlInfo":{"mouseOverCursor":"Window Default","properties":{"tabColor":"#bdcd9f"}}}]},"selectedTextFont":{"@size":"8","#text":"Arial"},"selectedTextColor":"#000000","deselectedTextColor":"#000000","tabSlopeLeft":"2","tabSlopeRight":"2","deselectedTabHeightOffset":"1","tabSpacing":"0","controlInfo":{"mouseOverCursor":"Window Default"}},{"general":{"name":"sl_defslas","type":"SqlTable","flags":{"transparent":"false","xpStyle":"true","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false","showHeader":"true","verticalGridLines":"true","horizontalGridLines":"true","autoLoad":"false","allowMultiSelect":"false"},"group":"Tab1:2"},"appearance":{"index":"30","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"Rectangle"},"objectPlacement":{"position":{"top":"219","left":"23","right":"419","bottom":"427"},"scaling":{"top":"0","left":"0","right":"100","bottom":"100"}},"columns":{"controlInfo":[{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"false","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false","hidden":"false","allowResize":"true","allowSort":"true"},"textLineCount":"0","textInputFormat":"Text","properties":{"column":"callclass"},"name":"Call Class","width":"120","image":"-1","dataColumn":"0"},{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"false","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false","hidden":"false","allowResize":"true","allowSort":"true"},"textLineCount":"0","textInputFormat":"Text","properties":{"column":"fk_slad_name"},"name":"SLA","width":"120","image":"-1","dataColumn":"1"},{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"false","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false","hidden":"false","allowResize":"true","allowSort":"true"},"textLineCount":"0","textInputFormat":"Text","properties":{"column":"fk_priority"},"name":"Priority","width":"120","image":"-1","dataColumn":"2"},{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"false","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false","hidden":"true","allowResize":"true","allowSort":"true"},"textLineCount":"0","textInputFormat":"Text","properties":{"column":"pk_auto_id"},"name":"pk_auto_id","width":"120","image":"-1","dataColumn":"3"},{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"false","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false","hidden":"true","allowResize":"true","allowSort":"true"},"textLineCount":"0","textInputFormat":"Text","properties":{"column":"fk_slad"},"name":"fk_slad","width":"120","image":"-1","dataColumn":"4"}]},"sortColumn":"-1","sortDescending":"false","headerHeight":"18","rowHeight":"16","selectedColor":"#00008b","selectedTextColor":"#ffffff","controlInfo":{"mouseOverCursor":"Window Default","properties":{"highlightStyle":"0","borderColor":"#808080","sqlSource":"swdata","table":"itsm_sla_class_matrix","newRecordForm":"Form.tf_rel_sla_class","editRecordForm":"Form.tf_rel_sla_class","storedQuery":"entity.common.class_slas","listFilter":"pk_auto_id = -1"}}},{"general":{"name":"btn_rem_class","type":"EventButton","group":"Tab1:2"},"appearance":{"index":"31","caption":"Remove","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"}},"objectPlacement":{"position":{"top":"197","left":"303","right":"359","bottom":"214"},"scaling":{"top":"0","left":"100","right":"100","bottom":"0"}},"controlInfo":{"mouseOverCursor":"Window Default","properties":{"backgroundColor":"39423"}}},{"general":{"name":"btn_add_class","type":"EventButton","group":"Tab1:2"},"appearance":{"index":"32","caption":"Add","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"}},"objectPlacement":{"position":{"top":"197","left":"364","right":"420","bottom":"214"},"scaling":{"top":"0","left":"100","right":"100","bottom":"0"}},"controlInfo":{"mouseOverCursor":"Window Default","properties":{"backgroundColor":"39423"}}}]},"javascript":{"methods":{"method":[{"name":"OnFormLoaded","code":"OnFormLoaded(bDataReloaded)\n{\n\t\/*\n\tif(_swdoc.MF().fk_def_sla.value != \"\")\n\t{\n\t\t_swdoc.MF().elements['fld_fk_sla1'].enable = true;\n\t\t_swdoc.MF().elements['Label18'].enable = true;\n\t}\n\t*\/\n\t_swdoc.setup_form_fields();\n}"},{"name":"fld_chargable_OnValueChanged","code":"fld_chargable_OnValueChanged(strValue)\n{\n\t\/\/ TODO: Add your event handler code here\n\t_swdoc.setup_form_fields();\n\n}"},{"name":"fld_unit_charge_OnValueChanged","code":"fld_unit_charge_OnValueChanged(strValue)\n{\n\t\/\/ TODO: Add your event handler code here\n\t_swdoc.recalculate();\n\tservice_subscription.unit_charge = format_float_to_decimal_str(strValue);\n\t_swdoc.UpdateFormFromData();\n\n}"},{"name":"fld_units_OnValueChanged","code":"fld_units_OnValueChanged(strValue)\n{\n\t\/\/ TODO: Add your event handler code here\n\n\t_swdoc.recalculate();\n}"},{"name":"fld_mark_up_OnValueChanged","code":"fld_mark_up_OnValueChanged(strValue)\n{\n\t\/\/ TODO: Add your event handler code here\n\n\t_swdoc.recalculate();\n}"},{"name":"sl_service_sla1_OnItemSelected","code":"sl_service_sla1_OnItemSelected(nRow)\n{\n\t\/\/ TODO: Add your event handler code here\n\t\n\tvar selCount = app.g.sl_getselected_count(sl_service_sla1);\n\t_een(btn_add_sla,(selCount==1));\n\t\n\n\n}"},{"name":"sl_service_sla1_OnItemDoubleClicked","code":"sl_service_sla1_OnItemDoubleClicked(nRow, nCol)\n{\n\t\/\/ TODO: Add your event handler code here\n\treturn false;\n\n}"},{"name":"sl_service_sla2_OnItemSelected","code":"sl_service_sla2_OnItemSelected(nRow)\n{\n\t\/\/ TODO: Add your event handler code here\n\n\tvar boolEnable = (sl_service_sla2.rowCount() > 0);\n\tvar selCount = app.g.sl_getselected_count(sl_service_sla2);\n\t_een(btn_view_sla,(selCount==1));\n\t_een(btn_del_sla,boolEnable);\n\n\n\n}"},{"name":"btn_add_sla_OnPressed","code":"btn_add_sla_OnPressed()\n{\n\t\/\/ TODO: Add your event handler code here\n\tif(sl_service_sla1.curSel<0)\n\t{\n\t\t_een(btn_add_sla,false);\n\t\treturn true;\n\t}\n\tif(!app.service.can_update(true))\n\t{\n\t\t_swdoc.MF().sl_service_sla1.Refresh();\n\t\t_swdoc.checkSLAs();\n\t\t_swdoc.MF().sl_service_sla2.Refresh();\n\t\treturn false;\n\t}\n\t\n\tvar strSLAName = app.g.sl_getcolvalue(sl_service_sla1, sl_service_sla1.curSel , \"fk_sla_name\");\n\tvar strSLA = app.g.sl_getcolvalue(sl_service_sla1, sl_service_sla1.curSel , \"fk_sla\");\n\tvar strCost = app.g.sl_getcolvalue(sl_service_sla1, sl_service_sla1.curSel, \"cost\");\n\tvar strPrice = app.g.sl_getcolvalue(sl_service_sla1, sl_service_sla1.curSel, \"price\");\n\tvar strAppcode = app.g.sl_getcolvalue(sl_service_sla1, sl_service_sla1.curSel, \"appcode\");\n\t\n\tvar aP = {};\n\taP.sid=_swdoc.ServSubs().pk_id;\n\taP.sla=strSLA;\n\taP.slaname=strSLAName;\n\taP.cost=strCost;\n\taP.price=strPrice;\n\tapp.g.submitsqs(\"service\/process\/assign_sla_to_subscription.insert\", aP);\n\n\t_swdoc.refresh_service_levels();\n\t\n\t_een(btn_add_sla,false);\t\n}"},{"name":"btn_del_sla_OnPressed","code":"btn_del_sla_OnPressed()\n{\n\t\/\/ TODO: Add your event handler code here\n\tif(!app.service.can_update(true))\n\t{\n\t\t_swdoc.MF().sl_service_sla1.Refresh();\n\t\t_swdoc.checkSLAs();\n\t\t_swdoc.MF().sl_service_sla2.Refresh();\n\t\treturn false;\n\t}\n\t\n\tvar strSLA = app.g.sl_getcolvalue(sl_service_sla2, sl_service_sla2.curSel, \"fk_sla\");\n\tif(strSLA == sc_subscription.fk_default_sla)\n\t{\n\t\t\tMessageBox(\"Cannot remove the selected Service Level.\\nPlease alter the Default Service Level of this subscription before removing.\");\n\t}\n\telse\n\t{\n\t\tvar strConfirm = \"Are you sure you want to remove the selected service level?\";\n\t\tif(confirm(strConfirm))\n\t\t{\n\t\t\tvar aP = {};\n\t\t\taP.sid=_swdoc.ServSubs().pk_id;\n\t\t\taP.sla=strSLA;\n\t\t\tapp.g.submitsqs(\"service\/process\/remove_sla_from_subscription.delete\", aP);\n\t\t}\n\t}\n\n\t_swdoc.refresh_service_levels();\n\t_een(btn_del_sla,false);\n\t_een(btn_view_sla,false);\n\t\n\n}"},{"name":"btn_view_sla_OnPressed","code":"btn_view_sla_OnPressed()\n{\n\t\/\/ TODO: Add your event handler code here\n\tif(sl_service_sla2.curSel<0)\n\t\treturn false;\n\tsl_service_sla2.EditRecord(sl_service_sla2.curSel)\n\n}"},{"name":"Field3_OnValueChanged","code":"Field3_OnValueChanged(strValue)\n{\n\t\/\/ TODO: Add your event handler code here\n\n\tsc_subscription.subscription_price = format_float_to_decimal_str(strValue);\n\t_swdoc.UpdateFormFromData();\n\n}"},{"name":"Field4_OnValueChanged","code":"Field4_OnValueChanged(strValue)\n{\n\t\/\/ TODO: Add your event handler code here\n\tif(isNaN(strValue))\n\t{\n\t\tsc_subscription.request_price = _swdoc.origValue;\n\t}\n\telse\n\t{\n\t\tsc_subscription.request_price = format_float_to_decimal_str(strValue);\n\t\t_swdoc.origValue = sc_subscription.request_price;\n\t}\n\t_swdoc.UpdateFormFromData();\n\n\n}"},{"name":"btn_rem_class_OnPressed","code":"btn_rem_class_OnPressed()\n{\n   \tvar selectedRow     = sl_defslas.curSel;\n    var strConfirm\t\t= \"Are you sure you want to remove this associated SLA\/Call Class?\";\n    \n\tif(app.g.sl_deldbrow(sl_defslas,selectedRow,\"pk_auto_id\",null,strConfirm))\n\t{\n\t\t_swdoc.MF().sl_defslas.Refresh();\n\t}\n}"},{"name":"btn_add_class_OnPressed","code":"btn_add_class_OnPressed()\n{\n    var strURL = \"reltype=SUBS&fk_rel_id=\" + pfu(sc_subscription.pk_id);\n    app.OpenFormForAdd(\"tf_rel_sla_class\" ,\"\", strURL, true, function()\n    {\n    \t_swdoc.MF().sl_defslas.Refresh();\n    });  \t\n}"},{"name":"Tab1_OnTabSelected","code":"Tab1_OnTabSelected(nTab)\n{\n\tif(nTab == 2)\n\t{\n\t\t\/\/-- Filter Default SLAs & Call Classes\n\t\t_slf(_swdoc.MF().sl_defslas, \"reltype=SUBS&fk_rel_id=\"+pfu(sc_subscription.pk_id));\n\t\t_swdoc.MF().sl_defslas.Refresh();\n\t}\n}"}]}}},{"appearance":{"width":"360","height":"220","backgroundColor":"#ffffff","fillColour":"#ffffff","textColour":"#000000","font":{"@size":"8","#text":"Arial"}},"javascript":{}}]}}}