{"espForm":{"configuration":{"settings":{"name":"itsm_contract_pricing","title":"Contract Pricing","options":{"allowResize":"true","showMenubar":"false","showToolbar":"true","showStatusBar":"false"}},"tables":{"table":{"name":"contract_pricing","type":"Main Details Table","flags":"0"}},"javascript":{"methods":{"method":{"name":"(Globals)","code":"function oPricing()\n{\n\treturn _swdoc.contract_pricing;\n}\n\nfunction calculate_price()\n{\n\t\/\/-- recalculate the price by adjustments\n\tif(_swdoc.oPricing().stdprice!=\"\")\n\t{\n\t\tif(_swdoc.oPricing().percadjustment!=\"\")\n\t\t{\n\t\t\tif(_swdoc.oPricing().adjustmentdir==\"+\")\n\t\t\t{\n\t\t\t\t\/\/MessageBox((_swdoc.oPricing().stdprice*1)\/(_swdoc.oPricing().percadjustment*1))\n\t\t\t\t_swdoc.oPricing().adjustedprice = format_float_to_decimal_str((_swdoc.oPricing().stdprice*1) + (((_swdoc.oPricing().stdprice*1)\/100)*(_swdoc.oPricing().percadjustment*1)));\n\t\t\t}\n\t\t\t\t\n\t\t\tif(_swdoc.oPricing().adjustmentdir==\"-\")\n\t\t\t\t_swdoc.oPricing().adjustedprice = format_float_to_decimal_str((_swdoc.oPricing().stdprice*1) - (((_swdoc.oPricing().stdprice*1)\/100)*(_swdoc.oPricing().percadjustment*1)));\n\t\t\t\t\n\t\t\t_swdoc.UpdateFormFromData();\n\t\t}\n\t}\n\t\n}"}}}},"layouts":{"layout":[{"appearance":{"width":"437","height":"168","backgroundColor":"#ffffff","fillColour":"#ffffff","textColour":"#000000","font":{"@size":"8","#text":"Arial"}},"controls":{"control":[{"general":{"type":"FieldName","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"0","caption":"Adjusted Price","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Right","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"107","left":"19","right":"129","bottom":"123"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"data":{"binding":"contract_pricing.adjustedprice"},"controlInfo":{"mouseOverCursor":"Window Default"}},{"general":{"type":"Field"},"appearance":{"index":"1","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"3-D Sunken"},"objectPlacement":{"position":{"top":"107","left":"139","right":"389","bottom":"123"},"scaling":{"top":"0","left":"0","right":"100","bottom":"0"}},"data":{"binding":"contract_pricing.adjustedprice"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"false","readOnly":"true","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false"},"textLineCount":"0","textInputFormat":"Text","properties":{"disabledBackgroundColor":"#eeeeee"}}},{"general":{"type":"FieldName","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"2","caption":"Adjustment Direction","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Right","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"86","left":"19","right":"129","bottom":"102"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"data":{"binding":"contract_pricing.adjustmentdir"},"controlInfo":{"mouseOverCursor":"Window Default"}},{"general":{"name":"lb_adjustdir","type":"Field"},"appearance":{"index":"3","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"3-D Sunken"},"objectPlacement":{"position":{"top":"86","left":"139","right":"207","bottom":"102"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"data":{"binding":"contract_pricing.adjustmentdir"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Pick List","flags":{"invisible":"false","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","comboAutoUpdate":"false","comboNewValues":"true","useDDPickList":"false"},"textLineCount":"0","textInputFormat":"Text","properties":{"disabledBackgroundColor":"#eeeeee","listItems":"+|-|"}}},{"general":{"type":"FieldName","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"4","caption":"Item Name","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Right","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"44","left":"19","right":"129","bottom":"60"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"data":{"binding":"contract_pricing.fk_item_name"},"controlInfo":{"mouseOverCursor":"Window Default"}},{"general":{"type":"Field"},"appearance":{"index":"5","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"3-D Sunken"},"objectPlacement":{"position":{"top":"44","left":"139","right":"389","bottom":"60"},"scaling":{"top":"0","left":"0","right":"100","bottom":"0"}},"data":{"binding":"contract_pricing.fk_item_name"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"false","readOnly":"true","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false"},"textLineCount":"0","textInputFormat":"Text","properties":{"disabledBackgroundColor":"#eeeeee"}}},{"general":{"type":"FieldName","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"6","caption":"Pricing Type","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Right","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"23","left":"19","right":"129","bottom":"39"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"data":{"binding":"contract_pricing.fk_item_type"},"controlInfo":{"mouseOverCursor":"Window Default"}},{"general":{"type":"Field"},"appearance":{"index":"7","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"3-D Sunken"},"objectPlacement":{"position":{"top":"23","left":"139","right":"389","bottom":"39"},"scaling":{"top":"0","left":"0","right":"100","bottom":"0"}},"data":{"binding":"contract_pricing.fk_item_type"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"false","readOnly":"true","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false"},"textLineCount":"0","textInputFormat":"Text","properties":{"disabledBackgroundColor":"#eeeeee"}}},{"general":{"type":"FieldName","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"8","caption":"% Adjustment","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Right","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"86","left":"216","right":"290","bottom":"102"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"data":{"binding":"contract_pricing.percadjustment"},"controlInfo":{"mouseOverCursor":"Window Default"}},{"general":{"name":"tb_adjustperc","type":"Field"},"appearance":{"index":"9","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"3-D Sunken"},"objectPlacement":{"position":{"top":"86","left":"295","right":"389","bottom":"102"},"scaling":{"top":"0","left":"0","right":"100","bottom":"0"}},"data":{"binding":"contract_pricing.percadjustment"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Text Edit","textLineCount":"0","textInputFormat":"Text","properties":{"disabledBackgroundColor":"#eeeeee"}}},{"general":{"type":"FieldName","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"10","caption":"Pk Auto Id","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Right","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"128","left":"19","right":"129","bottom":"144"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"data":{"binding":"contract_pricing.pk_auto_id"},"controlInfo":{"mouseOverCursor":"Window Default","flags":{"invisible":"true","skipTabStop":"false","disabled":"true","protected":"false","noMacroExpand":"false","multiLine":"false"}}},{"general":{"type":"Field"},"appearance":{"index":"11","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"3-D Sunken"},"objectPlacement":{"position":{"top":"128","left":"139","right":"389","bottom":"144"},"scaling":{"top":"0","left":"0","right":"100","bottom":"0"}},"data":{"binding":"contract_pricing.pk_auto_id"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"true","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"true","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false"},"textLineCount":"0","textInputFormat":"Text","properties":{"disabledBackgroundColor":"#eeeeee"}}},{"general":{"type":"FieldName","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"12","caption":"Standard Price","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Right","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"65","left":"19","right":"129","bottom":"81"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"data":{"binding":"contract_pricing.stdprice"},"controlInfo":{"mouseOverCursor":"Window Default"}},{"general":{"name":"tb_stdprice","type":"Field"},"appearance":{"index":"13","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"3-D Sunken"},"objectPlacement":{"position":{"top":"65","left":"139","right":"389","bottom":"81"},"scaling":{"top":"0","left":"0","right":"100","bottom":"0"}},"data":{"binding":"contract_pricing.stdprice"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"false","readOnly":"true","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false"},"textLineCount":"0","textInputFormat":"Text","properties":{"disabledBackgroundColor":"#eeeeee"}}}]},"javascript":{"methods":{"method":[{"name":"tb_stdprice_OnValueChanged","code":"tb_stdprice_OnValueChanged(strValue)\n{\n\t\/\/ TODO: Add your event handler code here\n\t\/\/if(isNaN(strValue))\n\t\t_swdoc.oPricing().stdprice = format_float_to_decimal_str(strValue);\n\t\t_swdoc.UpdateFormFromData();\n\t_swdoc.calculate_price();\n\n}"},{"name":"lb_adjustdir_OnValueChanged","code":"lb_adjustdir_OnValueChanged(strValue)\n{\n\t\/\/ TODO: Add your event handler code here\n\t_swdoc.calculate_price();\n\n}"},{"name":"tb_adjustperc_OnValueChanged","code":"tb_adjustperc_OnValueChanged(strValue)\n{\n\t\/\/ TODO: Add your event handler code here\n\t_swdoc.calculate_price();\n\n}"}]}}},{"appearance":{"width":"360","height":"220","backgroundColor":"#ffffff","fillColour":"#ffffff","textColour":"#000000","font":{"@size":"8","#text":"Arial"}},"javascript":{}}]}}}