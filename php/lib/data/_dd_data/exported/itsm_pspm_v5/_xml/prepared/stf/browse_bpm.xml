<?xml version="1.0" encoding="utf-8" ?>
<espForm>
	<configuration>
		<settings>
			<name>browse_bpm</name>
			<title>Business Process</title>
			<printTemplates>
			</printTemplates>
			<options>
				<allowResize>true</allowResize>
				<showMenubar>false</showMenubar>
				<showToolbar>false</showToolbar>
				<showStatusBar>false</showStatusBar>
			</options>
		</settings>
		<tables>
		</tables>
		<showMeItems>
		</showMeItems>
		<javascript>
			<methods>
			</methods>
		</javascript>
	</configuration>
	<layouts>
		<layout>
			<appearance>
				<width>516</width>
				<height>175</height>
				<backgroundColor>#ffffff</backgroundColor>
				<fillColour>#ffffff</fillColour>
				<textColour >#000000</textColour >
				<font  size="8">Arial</font>
			</appearance>
			<controls>
				<control>
					<general>
						<name>SqlList1</name>
						<type>SqlTable</type>
						<flags>
							<transparent>false</transparent>
							<xpStyle>false</xpStyle>
							<hasShadow>false</hasShadow>
							<toolbarButtonStyle>false</toolbarButtonStyle>
							<cache>false</cache>
							<hasBorder>false</hasBorder>
							<hasCheckbox>false</hasCheckbox>
							<showHeader>true</showHeader>
							<verticalGridLines>true</verticalGridLines>
							<horizontalGridLines>true</horizontalGridLines>
							<autoLoad>false</autoLoad>
							<allowMultiSelect>false</allowMultiSelect>
						</flags>
					</general>
					<appearance>
						<index>0</index>
						<backgroundColor>#ffffff</backgroundColor>
						<foregroundColor>#000000</foregroundColor>
						<font  size="8">Arial</font>
						<borderStyle>Rectangle</borderStyle>
					</appearance>
					<objectPlacement>
						<position>
							<top>5</top>
							<left>5</left>
							<right>424</right>
							<bottom>169</bottom>
						</position>
						<scaling>
							<top>0</top>
							<left>0</left>
							<right>100</right>
							<bottom>100</bottom>
						</scaling>
					</objectPlacement>
					<data>
					</data>
					<columns>
						<controlInfo>
							<mouseOverCursor>Window Default</mouseOverCursor>
							<type>Text Edit</type>
							<flags>
								<invisible>false</invisible>
								<readOnly>false</readOnly>
								<mandatory>false</mandatory>
								<mandatoryLabelBackground>false</mandatoryLabelBackground>
								<mandatoryLabelText>false</mandatoryLabelText>
								<allowNullValue>false</allowNullValue>
								<skipTabStop>false</skipTabStop>
								<disabled>false</disabled>
								<protected>false</protected>
								<noMacroExpand>false</noMacroExpand>
								<readOnlyInit>false</readOnlyInit>
								<autoCompleteField>false</autoCompleteField>
								<editUnlimitedText>false</editUnlimitedText>
								<url>false</url>
								<hidden>false</hidden>
								<allowResize>true</allowResize>
								<allowSort>true</allowSort>
							</flags>
							<textLineCount>0</textLineCount>
							<textInputFormat>Text</textInputFormat>
							<properties>
								<column>pk_workflow_id</column>
							</properties>
							<name>Workflow</name>
							<width>130</width>
							<image>-1</image>
							<dataColumn>0</dataColumn>
						</controlInfo>
						<controlInfo>
							<mouseOverCursor>Window Default</mouseOverCursor>
							<type>Text Edit</type>
							<flags>
								<invisible>false</invisible>
								<readOnly>false</readOnly>
								<mandatory>false</mandatory>
								<mandatoryLabelBackground>false</mandatoryLabelBackground>
								<mandatoryLabelText>false</mandatoryLabelText>
								<allowNullValue>false</allowNullValue>
								<skipTabStop>false</skipTabStop>
								<disabled>false</disabled>
								<protected>false</protected>
								<noMacroExpand>false</noMacroExpand>
								<readOnlyInit>false</readOnlyInit>
								<autoCompleteField>false</autoCompleteField>
								<editUnlimitedText>false</editUnlimitedText>
								<url>false</url>
								<hidden>false</hidden>
								<allowResize>true</allowResize>
								<allowSort>true</allowSort>
							</flags>
							<textLineCount>0</textLineCount>
							<textInputFormat>Text</textInputFormat>
							<properties>
								<column>description</column>
							</properties>
							<name>Description</name>
							<width>208</width>
							<image>-1</image>
							<dataColumn>1</dataColumn>
						</controlInfo>
						<controlInfo>
							<mouseOverCursor>Window Default</mouseOverCursor>
							<type>Text Edit</type>
							<flags>
								<invisible>false</invisible>
								<readOnly>false</readOnly>
								<mandatory>false</mandatory>
								<mandatoryLabelBackground>false</mandatoryLabelBackground>
								<mandatoryLabelText>false</mandatoryLabelText>
								<allowNullValue>false</allowNullValue>
								<skipTabStop>false</skipTabStop>
								<disabled>false</disabled>
								<protected>false</protected>
								<noMacroExpand>false</noMacroExpand>
								<readOnlyInit>false</readOnlyInit>
								<autoCompleteField>false</autoCompleteField>
								<editUnlimitedText>false</editUnlimitedText>
								<url>false</url>
								<hidden>false</hidden>
								<allowResize>true</allowResize>
								<allowSort>true</allowSort>
							</flags>
							<textLineCount>0</textLineCount>
							<textInputFormat>Text</textInputFormat>
							<properties>
								<column>fk_default_sla</column>
							</properties>
							<name>Priority</name>
							<width>118</width>
							<image>-1</image>
							<dataColumn>2</dataColumn>
						</controlInfo>
					</columns>
					<sortColumn>-1</sortColumn>
					<sortDescending>false</sortDescending>
					<headerHeight>16</headerHeight>
					<rowHeight>16</rowHeight>
					<selectedColor>#00008b</selectedColor>
					<selectedTextColor>#ffffff</selectedTextColor>
					<controlInfo>
						<mouseOverCursor>Window Default</mouseOverCursor>
						<properties>
							<sqlSource>swdata</sqlSource>
							<table>bpm_workflow</table>
							<listFilter>empty=1</listFilter>
							<newRecordForm>Form.bpm_workflows</newRecordForm>
							<editRecordForm>Form.bpm_workflows</editRecordForm>
							<borderColor>#808080</borderColor>
							<storedQuery>me.browse.table</storedQuery>
						</properties>
					</controlInfo>
				</control>
				<control>
					<general>
						<name>btnProperties</name>
						<type>EventButton</type>
						<flags>
							<transparent>false</transparent>
							<xpStyle>true</xpStyle>
							<hasShadow>false</hasShadow>
							<toolbarButtonStyle>false</toolbarButtonStyle>
							<cache>false</cache>
							<hasBorder>false</hasBorder>
							<hasCheckbox>false</hasCheckbox>
						</flags>
					</general>
					<appearance>
						<index>1</index>
						<caption>Properties</caption>
						<backgroundColor>#000000</backgroundColor>
						<foregroundColor>#000000</foregroundColor>
						<font  size="8">Arial</font>
					</appearance>
					<objectPlacement>
						<position>
							<top>5</top>
							<left>432</left>
							<right>512</right>
							<bottom>29</bottom>
						</position>
						<scaling>
							<top>0</top>
							<left>100</left>
							<right>100</right>
							<bottom>0</bottom>
						</scaling>
					</objectPlacement>
					<data>
					</data>
					<controlInfo>
						<mouseOverCursor>Window Default</mouseOverCursor>
						<properties>
						</properties>
					</controlInfo>
				</control>
				<control>
					<general>
						<name>btnNew</name>
						<type>EventButton</type>
						<flags>
							<transparent>false</transparent>
							<xpStyle>true</xpStyle>
							<hasShadow>false</hasShadow>
							<toolbarButtonStyle>false</toolbarButtonStyle>
							<cache>false</cache>
							<hasBorder>false</hasBorder>
							<hasCheckbox>false</hasCheckbox>
						</flags>
					</general>
					<appearance>
						<index>2</index>
						<caption>New</caption>
						<backgroundColor>#000000</backgroundColor>
						<foregroundColor>#000000</foregroundColor>
						<font  size="8">Arial</font>
					</appearance>
					<objectPlacement>
						<position>
							<top>32</top>
							<left>432</left>
							<right>512</right>
							<bottom>56</bottom>
						</position>
						<scaling>
							<top>0</top>
							<left>100</left>
							<right>100</right>
							<bottom>0</bottom>
						</scaling>
					</objectPlacement>
					<data>
					</data>
					<controlInfo>
						<mouseOverCursor>Window Default</mouseOverCursor>
						<properties>
						</properties>
					</controlInfo>
				</control>
				<control>
					<general>
						<name>btnDelete</name>
						<type>EventButton</type>
						<flags>
							<transparent>false</transparent>
							<xpStyle>true</xpStyle>
							<hasShadow>false</hasShadow>
							<toolbarButtonStyle>false</toolbarButtonStyle>
							<cache>false</cache>
							<hasBorder>false</hasBorder>
							<hasCheckbox>false</hasCheckbox>
						</flags>
					</general>
					<appearance>
						<index>3</index>
						<caption>Delete</caption>
						<backgroundColor>#000000</backgroundColor>
						<foregroundColor>#000000</foregroundColor>
						<font  size="8">Arial</font>
					</appearance>
					<objectPlacement>
						<position>
							<top>59</top>
							<left>432</left>
							<right>512</right>
							<bottom>83</bottom>
						</position>
						<scaling>
							<top>0</top>
							<left>100</left>
							<right>100</right>
							<bottom>0</bottom>
						</scaling>
					</objectPlacement>
					<data>
					</data>
					<controlInfo>
						<mouseOverCursor>Window Default</mouseOverCursor>
						<properties>
						</properties>
					</controlInfo>
				</control>
				<control>
					<general>
						<name>btnClose</name>
						<type>EventButton</type>
						<flags>
							<transparent>false</transparent>
							<xpStyle>true</xpStyle>
							<hasShadow>false</hasShadow>
							<toolbarButtonStyle>false</toolbarButtonStyle>
							<cache>false</cache>
							<hasBorder>false</hasBorder>
							<hasCheckbox>false</hasCheckbox>
						</flags>
					</general>
					<appearance>
						<index>4</index>
						<caption>Select</caption>
						<backgroundColor>#000000</backgroundColor>
						<foregroundColor>#000000</foregroundColor>
						<font  size="8">Arial</font>
					</appearance>
					<objectPlacement>
						<position>
							<top>144</top>
							<left>432</left>
							<right>512</right>
							<bottom>168</bottom>
						</position>
						<scaling>
							<top>100</top>
							<left>100</left>
							<right>100</right>
							<bottom>100</bottom>
						</scaling>
					</objectPlacement>
					<data>
					</data>
					<controlInfo>
						<mouseOverCursor>Window Default</mouseOverCursor>
						<properties>
						</properties>
					</controlInfo>
				</control>
			</controls>
			<formActions>
			</formActions>
			<javascript>
				<methods>
					<method>
						<name>btnProperties_OnPressed</name>
						<code>
							<![CDATA[btnProperties_OnPressed()
{
    SqlList1.EditRecord(SqlList1.curSel);
}
]]>
						</code>
					</method>
					<method>
						<name>btnNew_OnPressed</name>
						<code>
							<![CDATA[btnNew_OnPressed()
{

	var strArgs = _swdoc.strArguments;
    app.OpenFormForAdd("bpm_workflows", "", strArgs, true, function(){
    	SqlList1.Refresh()
    });
}]]>
						</code>
					</method>
					<method>
						<name>btnDelete_OnPressed</name>
						<code>
							<![CDATA[btnDelete_OnPressed()
{
	//-- NWJ - 14.11.2007 - add confirmation
	var strConfirm = "Are you sure you want to delete the selected business process definition?";
	app.g.sl_deldbrow(SqlList1,SqlList1.curSel,'pk_workflow_id',null,strConfirm);
}]]>
						</code>
					</method>
					<method>
						<name>btnClose_OnPressed</name>
						<code>
							<![CDATA[btnClose_OnPressed()
{
	//-- if mode is select then set _swdoc.strSelectedKey
	_swdoc.strSelectedKey=app.g.sl_getprikeyvalue(SqlList1);
	_swdoc.strSelectedText=app.g.sl_getcolvalue(SqlList1,-1,"description");	
    _swdoc.CloseForm();
}]]>
						</code>
					</method>
					<method>
						<name>OnFormLoaded</name>
						<code>
							<![CDATA[OnFormLoaded()
{
	//-- allow user to select a row if in selectmode
	_swdoc.strSelectedKey="";
	_swdoc.strArguments = "";
	var strMode = _swdoc.GetArg("mode");
	var boolSelect = (strMode=="select");
	
	var strClass = _swdoc.GetArg("class");
	var strFilter = "";
	if(strClass!="")
	{
		strFilter = "sf=browse_bpm.table&cc=" + strClass;
		var strTitle = strClass+" Business Processes";
		_swdoc.SetTitle(strTitle);
		_swdoc.strArguments = "bpm_workflow.callclass="+strClass;
	}
	
	
	_ete(btnClose, (boolSelect)?"Select":"Close");

	if(boolSelect)	
	{
		if(!app.session.HaveAppRight(PG_BPM, BPM_CANMANAGE, app.session.dataDictionary)) 
		{
			_evi(btnProperties, false);
			_evi(btnNew, false);
			_evi(btnDelete, false);
		}
	}
	else
	{
		_evi(btnProperties, true);
		_evi(btnNew, true);
		_evi(btnDelete, true);
	}
	
	//-- RJC F0105433	
	app.g.apply_appcode_bpm_filter(mainform.SqlList1, 'BPM',strFilter);	
	//-- EOF F0105433
	mainform.SqlList1.Refresh();
}]]>
						</code>
					</method>
					<method>
						<name>SqlList1_OnItemDoubleClicked</name>
						<code>
							<![CDATA[SqlList1_OnItemDoubleClicked(nRow, nCol)
{
	// TODO: Add your event handler code here
	if(!app.session.HaveAppRight(PG_BPM, BPM_CANMANAGE, app.session.dataDictionary)) 
	{
		MessageBox("You do not have permission to manage business processes.");
		return false;
	}
	SqlList1.EditRecord(nRow);
}]]>
						</code>
					</method>
				</methods>
			</javascript>
		</layout>
		<layout>
			<appearance>
				<width>360</width>
				<height>220</height>
				<backgroundColor>#ffffff</backgroundColor>
				<fillColour>#ffffff</fillColour>
				<textColour >#000000</textColour >
				<font  size="8">Arial</font>
			</appearance>
			<controls>
			</controls>
			<formActions>
			</formActions>
			<javascript>
				<methods>
				</methods>
			</javascript>
		</layout>
	</layouts>
</espForm>
