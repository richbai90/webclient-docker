{"espForm":{"configuration":{"settings":{"name":"EfCharge Centre","title":"Charge Centre","options":{"allowResize":"true","showMenubar":"false","showToolbar":"true","showStatusBar":"false"}},"tables":{"table":{"name":"costcent","type":"Main Details Table","flags":"5"}},"javascript":{"methods":{"method":{"name":"(Globals)","code":"var _swdoc = (IsObjectDefined(\"_bHtmlWebClient\"))?top:_swdoc;\nvar webclient = (IsObjectDefined(\"_bHtmlWebClient\"));\n\nfunction oCostcent()\n{\n\treturn _swdoc.costcent;\n}\nfunction MF()\n{\n\treturn _swdoc.mainform;\n}"}}}},"layouts":{"layout":[{"appearance":{"width":"350","height":"334","backgroundColor":"#ffffff","fillColour":"#e7e4dc","textColour":"#000000","font":{"@size":"8","#text":"Arial"}},"controls":{"control":[{"general":{"type":"FieldName","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"0","caption":"Charge Centre","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Trebuchet MS"},"alignment":"Right","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"14","left":"8","right":"98","bottom":"32"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"data":{"binding":"costcent.costcenter"},"controlInfo":{"mouseOverCursor":"Window Default"}},{"general":{"type":"Field"},"appearance":{"index":"1","backgroundColor":"#ffffff","foregroundColor":"#333333","font":{"@size":"8","#text":"Trebuchet MS"},"borderStyle":"Rectangle"},"objectPlacement":{"position":{"top":"14","left":"102","right":"344","bottom":"32"},"scaling":{"top":"0","left":"0","right":"100","bottom":"0"}},"data":{"binding":"costcent.costcenter"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Text Edit","textLineCount":"0","textInputFormat":"Text","properties":{"disabledBackgroundColor":"#eeeeee","borderColor":"#c0c0c0"}}},{"general":{"type":"FieldName","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"2","caption":"Description","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Trebuchet MS"},"alignment":"Right","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"36","left":"8","right":"98","bottom":"54"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"data":{"binding":"costcent.department"},"controlInfo":{"mouseOverCursor":"Window Default"}},{"general":{"type":"Field"},"appearance":{"index":"3","backgroundColor":"#ffffff","foregroundColor":"#333333","font":{"@size":"8","#text":"Trebuchet MS"},"borderStyle":"Rectangle"},"objectPlacement":{"position":{"top":"36","left":"102","right":"344","bottom":"54"},"scaling":{"top":"0","left":"0","right":"100","bottom":"0"}},"data":{"binding":"costcent.department"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Text Edit","textLineCount":"0","textInputFormat":"Text","properties":{"disabledBackgroundColor":"#eeeeee","borderColor":"#c0c0c0"}}},{"general":{"type":"FieldName","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"4","caption":"Rate","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Trebuchet MS"},"alignment":"Right","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"58","left":"8","right":"98","bottom":"76"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"data":{"binding":"costcent.rate"},"controlInfo":{"mouseOverCursor":"Window Default"}},{"general":{"type":"Field"},"appearance":{"index":"5","backgroundColor":"#ffffff","foregroundColor":"#333333","font":{"@size":"8","#text":"Trebuchet MS"},"borderStyle":"Rectangle"},"objectPlacement":{"position":{"top":"58","left":"102","right":"344","bottom":"76"},"scaling":{"top":"0","left":"0","right":"100","bottom":"0"}},"data":{"binding":"costcent.rate"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Text Edit","textLineCount":"0","textInputFormat":"Currency","properties":{"disabledBackgroundColor":"#eeeeee","inputMask":"£####.##","borderColor":"#c0c0c0"}}},{"general":{"name":"sl_defslas","type":"SqlTable","flags":{"transparent":"false","xpStyle":"true","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false","showHeader":"true","verticalGridLines":"true","horizontalGridLines":"true","autoLoad":"false","allowMultiSelect":"false"}},"appearance":{"index":"6","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"Rectangle"},"objectPlacement":{"position":{"top":"178","left":"17","right":"342","bottom":"324"},"scaling":{"top":"0","left":"0","right":"100","bottom":"100"}},"columns":{"controlInfo":[{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"false","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false","hidden":"false","allowResize":"true","allowSort":"true"},"textLineCount":"0","textInputFormat":"Text","properties":{"column":"callclass"},"name":"Call Class","width":"120","image":"-1","dataColumn":"0"},{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"false","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false","hidden":"false","allowResize":"true","allowSort":"true"},"textLineCount":"0","textInputFormat":"Text","properties":{"column":"fk_slad_name"},"name":"SLA","width":"114","image":"-1","dataColumn":"1"},{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"false","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false","hidden":"false","allowResize":"true","allowSort":"true"},"textLineCount":"0","textInputFormat":"Text","properties":{"column":"fk_priority"},"name":"Priority","width":"120","image":"-1","dataColumn":"2"},{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"false","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false","hidden":"true","allowResize":"true","allowSort":"true"},"textLineCount":"0","textInputFormat":"Text","properties":{"column":"pk_auto_id"},"name":"pk_auto_id","width":"120","image":"-1","dataColumn":"3"},{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"false","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false","hidden":"true","allowResize":"true","allowSort":"true"},"textLineCount":"0","textInputFormat":"Text","properties":{"column":"fk_slad"},"name":"fk_slad","width":"120","image":"-1","dataColumn":"4"}]},"sortColumn":"-1","sortDescending":"false","headerHeight":"18","rowHeight":"16","selectedColor":"#000099","selectedTextColor":"#ffffff","controlInfo":{"mouseOverCursor":"Window Default","flags":{"invisible":"false","skipTabStop":"false","disabled":"true","protected":"false","noMacroExpand":"false","multiLine":"false"},"properties":{"highlightStyle":"0","borderColor":"#000000","sqlSource":"swdata","table":"itsm_sla_class_matrix","newRecordForm":"Form.tf_rel_sla_class","editRecordForm":"Form.tf_rel_sla_class","storedQuery":"entity.common.class_slas","listFilter":"pk_auto_id = -1"}}},{"general":{"name":"btn_add_class","type":"EventButton"},"appearance":{"index":"7","caption":"Add","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"}},"objectPlacement":{"position":{"top":"151","left":"206","right":"271","bottom":"175"},"scaling":{"top":"0","left":"100","right":"100","bottom":"0"}},"controlInfo":{"mouseOverCursor":"Window Default","flags":{"invisible":"false","skipTabStop":"false","disabled":"true","protected":"false","noMacroExpand":"false","multiLine":"false"},"properties":{"backgroundColor":"39423"}}},{"general":{"name":"btn_rem_class","type":"EventButton"},"appearance":{"index":"8","caption":"Remove","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"}},"objectPlacement":{"position":{"top":"151","left":"276","right":"341","bottom":"175"},"scaling":{"top":"0","left":"100","right":"100","bottom":"0"}},"controlInfo":{"mouseOverCursor":"Window Default","flags":{"invisible":"false","skipTabStop":"false","disabled":"true","protected":"false","noMacroExpand":"false","multiLine":"false"},"properties":{"backgroundColor":"39423"}}},{"general":{"name":"lbl_sl","type":"Text","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"9","caption":"Call Class Default SLAs","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Left","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"163","left":"22","right":"146","bottom":"177"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"controlInfo":{"mouseOverCursor":"Window Default","flags":{"invisible":"false","skipTabStop":"false","disabled":"true","protected":"false","noMacroExpand":"false","multiLine":"false"}}},{"general":{"name":"lbl_priority","type":"FieldName","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"10","caption":"Priority","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Trebuchet MS"},"alignment":"Right","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"103","left":"8","right":"98","bottom":"121"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"data":{"binding":"costcent.priority"},"controlInfo":{"mouseOverCursor":"Window Default","flags":{"invisible":"false","skipTabStop":"false","disabled":"true","protected":"false","noMacroExpand":"false","multiLine":"false"}}},{"general":{"name":"fld_priority","type":"Field"},"appearance":{"index":"11","backgroundColor":"#ffffff","foregroundColor":"#333333","font":{"@size":"8","#text":"Trebuchet MS"},"borderStyle":"Rectangle"},"objectPlacement":{"position":{"top":"103","left":"102","right":"344","bottom":"121"},"scaling":{"top":"0","left":"0","right":"100","bottom":"0"}},"data":{"binding":"costcent.priority"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Distinct Pick List","flags":{"invisible":"false","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"true","protected":"false","noMacroExpand":"false","readOnlyInit":"false","comboAutoUpdate":"false","comboNewValues":"true","pickListOrderDesc":"false"},"textLineCount":"0","textInputFormat":"Text","properties":{"disabledBackgroundColor":"#eeeeee","distinctTable":"itsmsp_slad_priority","distinctColumn":"fk_priority","newRecordForm":"SystemForms.SLA","editRecordForm":"SystemForms.SLA","listFilter":"_swc_flg_sla=1&_swc_fk_slad=&[costcent.itsm_sla]","extraOptions":"[Use SLA Default Priority]","sqlSource":"swdata","borderColor":"#c0c0c0","storedQuery":"common.filterByTableValues"}}},{"general":{"name":"Label32","type":"FieldName","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"12","caption":"SLA","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Right","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"81","left":"21","right":"98","bottom":"99"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"data":{"binding":"config_itemi.fk_sld"},"controlInfo":{"mouseOverCursor":"Window Default"}},{"general":{"name":"fld_fk_sld1","type":"Field"},"appearance":{"index":"13","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"Rectangle"},"objectPlacement":{"position":{"top":"81","left":"102","right":"344","bottom":"99"},"scaling":{"top":"0","left":"0","right":"100","bottom":"0"}},"data":{"binding":"costcent.itsm_sla"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Distinct Pick List","flags":{"invisible":"false","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","comboAutoUpdate":"false","comboNewValues":"true","pickListOrderDesc":"false"},"textLineCount":"0","textInputFormat":"Text","properties":{"sqlSource":"swdata","distinctTable":"itsmsp_slad","distinctColumn":"pk_slad_id","listFilter":"_swc_archive=0","image":"#eeeeee","disabledBackgroundColor":"#000000","borderColor":"#c0c0c0","displayColumn":"slad_id","storedQuery":"common.filterByTableValues"}}}]},"javascript":{"methods":{"method":[{"name":"OnFormLoaded","code":"OnFormLoaded(bDataReloaded)\n{\n\t\/\/-- 12.07.2008 \n\t\/\/-- if inserting see if we need to set default company\n\tif(_swdoc.oCostcent().costcenter==\"\")\n\t{\n\t\t_swdoc.oCostcent().fk_company_id = unescape(_swdoc.GetArg(\"fk_company_id\"));\t\t\n\t\tif((_swdoc.oCostcent().fk_company_id==\"\")&&(dd.GetGlobalParamAsString(\"Application Settings\/SupportExternalCompanies\")!=1))\n\t\t{\n\t\t\t_swdoc.oCostcent().fk_company_id = dd.GetGlobalParamAsString(\"Application Settings\/DefaultCompanyID\");\n\t\t}\t\n\t\t_swdoc.UpdateFormFromData();\t\n\t}\n\telse\n\t{\n\t\t\/\/-- Filter Default SLAs & Call Classes\n\t\t_een(mainform.lbl_sl, true);\n\t\t_een(mainform.sl_defslas, true);\n\t\t_een(mainform.btn_add_class, true);\n\t\t_een(mainform.btn_rem_class, true);\t\n\t\t_slf(mainform.sl_defslas, \"reltype=CHCT&fk_rel_id=\"+pfu(costcent.costcenter));\n\t\tmainform.sl_defslas.Refresh();\n\t}\n\t\n\tif(_swdoc.oCostcent().itsm_sla>0)\n\t{\n\t\t_een(mainform.fld_priority, true);\n\t\t_een(mainform.lbl_priority, true);\n\t}\n\t_swdoc.ResetModiedFlag(\"costcent\");\t\n}"},{"name":"btn_add_class_OnPressed","code":"btn_add_class_OnPressed()\n{\n    var strURL = \"reltype=CHCT&fk_rel_id=\" + pfu(costcent.costcenter);\n    app.OpenFormForAdd(\"tf_rel_sla_class\" ,\"\", strURL, true, function()\n    {\n    \t_swdoc.MF().sl_defslas.Refresh();\n    });  \t\n}"},{"name":"btn_rem_class_OnPressed","code":"btn_rem_class_OnPressed()\n{\n   \tvar selectedRow     = sl_defslas.curSel;\n    var strConfirm\t\t= \"Are you sure you want to remove this associated SLA\/Call Class?\";\n    \n\tif(app.g.sl_deldbrow(sl_defslas,selectedRow,\"pk_auto_id\",null,strConfirm))\n\t{\n\t\t_swdoc.MF().sl_defslas.Refresh();\n\t}\n}"},{"name":"fld_fk_sld1_OnValueChanged","code":"fld_fk_sld1_OnValueChanged(strValue)\n{\n\t\/\/ TODO: Add your event handler code here\n\tvar boolEnable = strValue!=\"\";\n\t_swdoc.oCostcent().priority = \"\";\n\n\t_een(mainform.fld_priority, boolEnable);\n\t_een(mainform.lbl_priority, boolEnable);\n\t_swdoc.UpdateFormFromData();\n\t\n}"}]}}},{"appearance":{"width":"360","height":"220","backgroundColor":"#ffffff","fillColour":"#ffffff","textColour":"#000000","font":{"@size":"8","#text":"Arial"}},"javascript":{}}]}}}