{"espForm":{"configuration":{"settings":{"name":"tf_rel_sla_class","title":"SLA and Call Class","options":{"allowResize":"true","showMenubar":"false","showToolbar":"true","showStatusBar":"false"}},"tables":{"table":{"name":"itsm_sla_class_matrix","type":"Main Details Table","flags":"2"}},"javascript":{"methods":{"method":[{"name":"OnSaveData","code":"OnSaveData()\n{\n\tvar arrParams ={};\n\tarrParams.callclass=_swdoc.oMatrix().callclass;\n\tarrParams.fk_slad=_swdoc.oMatrix().fk_slad;\n\tarrParams.reltype=_swdoc.oMatrix().reltype;\n\tarrParams.fk_rel_id=_swdoc.oMatrix().fk_rel_id;\n\tif(app.g.sqs_rowcountbycol(\"ITSM_SLA_CLASS_MATRIX\",arrParams)==0)\n\t{\n\t\treturn true;\n\t}\n\telse\n\t{\n\t\tMessageBox(\"The default SLA '\" + _swdoc.oMatrix().fk_slad_name + \"' already exists for the '\" + _swdoc.oMatrix().callclass + \"' call class.\");\n\t\treturn false;\n\t}\n}"},{"name":"(Globals)","code":"var _swdoc = (IsObjectDefined(\"_bHtmlWebClient\"))?top:_swdoc;\n\nfunction oMatrix()\n{\n\treturn _swdoc.itsm_sla_class_matrix;\n}\n\nfunction MF()\n{\n\treturn _swdoc.mainform;\n}"}]}}},"layouts":{"layout":[{"appearance":{"width":"416","height":"87","backgroundColor":"#ffffff","fillColour":"#ffffff","textColour":"#000000","font":{"@size":"8","#text":"Arial"}},"controls":{"control":[{"general":{"type":"FieldName","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"0","caption":"Appcode","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Right","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"10","left":"460","right":"570","bottom":"26"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"data":{"binding":"itsm_sla_class_matrix.appcode"},"controlInfo":{"mouseOverCursor":"Window Default","flags":{"invisible":"true","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","multiLine":"false"}}},{"general":{"type":"Field"},"appearance":{"index":"1","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"3-D Sunken"},"objectPlacement":{"position":{"top":"10","left":"580","right":"830","bottom":"26"},"scaling":{"top":"0","left":"0","right":"100","bottom":"0"}},"data":{"binding":"itsm_sla_class_matrix.appcode"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"true","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false"},"textLineCount":"0","textInputFormat":"Text","properties":{"disabledBackgroundColor":"#eeeeee"}}},{"general":{"name":"lbl_callclass","type":"FieldName","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"2","caption":"Call Class","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Right","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"15","left":"34","right":"144","bottom":"31"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"data":{"binding":"itsm_sla_class_matrix.callclass"},"controlInfo":{"mouseOverCursor":"Window Default","flags":{"invisible":"false","skipTabStop":"false","disabled":"true","protected":"false","noMacroExpand":"false","multiLine":"false"}}},{"general":{"name":"fld_callclass","type":"Field"},"appearance":{"index":"3","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"3-D Sunken"},"objectPlacement":{"position":{"top":"15","left":"154","right":"404","bottom":"31"},"scaling":{"top":"0","left":"0","right":"100","bottom":"0"}},"data":{"binding":"itsm_sla_class_matrix.callclass"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Distinct Pick List","flags":{"invisible":"false","readOnly":"false","mandatory":"true","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"true","protected":"false","noMacroExpand":"false","readOnlyInit":"false","comboAutoUpdate":"false","comboNewValues":"true","pickListOrderDesc":"false"},"textLineCount":"0","textInputFormat":"Text","properties":{"disabledBackgroundColor":"#eeeeee","sqlSource":"syscache","distinctTable":"swcallclasses","distinctColumn":"CallClass","listFilter":"callclass!='OLA Task'"}}},{"general":{"name":"lbl_priority","type":"FieldName","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"4","caption":"Priority","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Right","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"57","left":"34","right":"144","bottom":"73"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"data":{"binding":"itsm_sla_class_matrix.fk_priority"},"controlInfo":{"mouseOverCursor":"Window Default","flags":{"invisible":"false","skipTabStop":"false","disabled":"true","protected":"false","noMacroExpand":"false","multiLine":"false"}}},{"general":{"name":"fld_priority","type":"Field"},"appearance":{"index":"5","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"3-D Sunken"},"objectPlacement":{"position":{"top":"57","left":"154","right":"404","bottom":"73"},"scaling":{"top":"0","left":"0","right":"100","bottom":"0"}},"data":{"binding":"itsm_sla_class_matrix.fk_priority"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Distinct Pick List","flags":{"invisible":"false","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"true","protected":"false","noMacroExpand":"false","readOnlyInit":"false","comboAutoUpdate":"false","comboNewValues":"true","pickListOrderDesc":"false"},"textLineCount":"0","textInputFormat":"Text","properties":{"disabledBackgroundColor":"#eeeeee","sqlSource":"swdata","storedQuery":"common.filterByTableValues","distinctTable":"itsmsp_slad_priority","distinctColumn":"fk_priority","listFilter":"_swc_fk_slad=&[itsm_sla_class_matrix.fk_slad]&_swc_flg_sla=1","extraOptions":"[Use SLA Default Priority]^[Use Impact\/Urgency]"}}},{"general":{"type":"FieldName","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"6","caption":"Entitiy ID","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Right","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"70","left":"460","right":"570","bottom":"86"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"data":{"binding":"itsm_sla_class_matrix.fk_rel_id"},"controlInfo":{"mouseOverCursor":"Window Default","flags":{"invisible":"true","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","multiLine":"false"}}},{"general":{"type":"Field"},"appearance":{"index":"7","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"3-D Sunken"},"objectPlacement":{"position":{"top":"70","left":"580","right":"830","bottom":"86"},"scaling":{"top":"0","left":"0","right":"100","bottom":"0"}},"data":{"binding":"itsm_sla_class_matrix.fk_rel_id"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"true","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false"},"textLineCount":"0","textInputFormat":"Text","properties":{"disabledBackgroundColor":"#eeeeee"}}},{"general":{"type":"FieldName","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"8","caption":"SLA ID","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Right","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"90","left":"460","right":"570","bottom":"106"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"data":{"binding":"itsm_sla_class_matrix.fk_slad"},"controlInfo":{"mouseOverCursor":"Window Default","flags":{"invisible":"true","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","multiLine":"false"}}},{"general":{"name":"fld_slad","type":"Field"},"appearance":{"index":"9","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"3-D Sunken"},"objectPlacement":{"position":{"top":"90","left":"580","right":"830","bottom":"106"},"scaling":{"top":"0","left":"0","right":"100","bottom":"0"}},"data":{"binding":"itsm_sla_class_matrix.fk_slad"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"true","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false"},"textLineCount":"0","textInputFormat":"Text","properties":{"disabledBackgroundColor":"#eeeeee"}}},{"general":{"name":"lbl_sla","type":"FieldName","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"10","caption":"SLA Name","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Right","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"36","left":"10","right":"144","bottom":"52"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"data":{"binding":"itsm_sla_class_matrix.fk_slad_name"},"controlInfo":{"mouseOverCursor":"Window Default"}},{"general":{"name":"fld_slad_name","type":"Field"},"appearance":{"index":"11","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"3-D Sunken"},"objectPlacement":{"position":{"top":"36","left":"154","right":"404","bottom":"52"},"scaling":{"top":"0","left":"0","right":"100","bottom":"0"}},"data":{"binding":"itsm_sla_class_matrix.fk_slad_name"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Distinct Pick List","flags":{"invisible":"false","readOnly":"false","mandatory":"true","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","comboAutoUpdate":"false","comboNewValues":"true","pickListOrderDesc":"false"},"textLineCount":"0","textInputFormat":"Text","properties":{"disabledBackgroundColor":"#eeeeee","sqlSource":"swdata","storedQuery":"entities.filter_itsm_sla","distinctTable":"itsmsp_slad","distinctColumn":"slad_id","listFilter":"_swc_archive=0"}}},{"general":{"type":"FieldName","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"12","caption":"Pk Auto Id","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Right","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"130","left":"460","right":"570","bottom":"146"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"data":{"binding":"itsm_sla_class_matrix.pk_auto_id"},"controlInfo":{"mouseOverCursor":"Window Default","flags":{"invisible":"true","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","multiLine":"false"}}},{"general":{"type":"Field"},"appearance":{"index":"13","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"3-D Sunken"},"objectPlacement":{"position":{"top":"130","left":"580","right":"830","bottom":"146"},"scaling":{"top":"0","left":"0","right":"100","bottom":"0"}},"data":{"binding":"itsm_sla_class_matrix.pk_auto_id"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"true","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false"},"textLineCount":"0","textInputFormat":"Text","properties":{"disabledBackgroundColor":"#eeeeee"}}},{"general":{"type":"FieldName","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"14","caption":"Entity Type","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Right","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"150","left":"460","right":"570","bottom":"166"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"data":{"binding":"itsm_sla_class_matrix.reltype"},"controlInfo":{"mouseOverCursor":"Window Default","flags":{"invisible":"true","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","multiLine":"false"}}},{"general":{"name":"fld_reltype","type":"Field"},"appearance":{"index":"15","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"3-D Sunken"},"objectPlacement":{"position":{"top":"150","left":"580","right":"830","bottom":"166"},"scaling":{"top":"0","left":"0","right":"100","bottom":"0"}},"data":{"binding":"itsm_sla_class_matrix.reltype"},"controlInfo":{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"true","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false"},"textLineCount":"0","textInputFormat":"Text","properties":{"disabledBackgroundColor":"#eeeeee"}}}]},"javascript":{"methods":{"method":[{"name":"OnFormLoaded","code":"OnFormLoaded(bDataReloaded)\n{\n\t\/\/ TODO: Add your event handler code here\n\tvar boolNewRecord = true;\n\tif(itsm_sla_class_matrix.callclass) boolNewRecord = false; \n\tif(boolNewRecord)\n\t{\n\t\titsm_sla_class_matrix.appcode = app.itsm.get_session_param(\"dataset\");\n\t\titsm_sla_class_matrix.reltype = _swdoc.GetArg(\"reltype\");\n\t\titsm_sla_class_matrix.fk_rel_id = _swdoc.GetArg(\"fk_rel_id\");\n\t\tmainform.UpdateFormFromData();\n\t}\n\t_een(mainform.lbl_callclass, boolNewRecord);\n\t_een(mainform.fld_callclass, boolNewRecord);\n}"},{"name":"fld_slad_name_OnValueChanged","code":"fld_slad_name_OnValueChanged(strValue)\n{\n\t\n\t\/\/ TODO: Add your event handler code here\n\titsm_sla_class_matrix.fk_priority = \"\";\n\n\tif(strValue!=\"\")\n\t{\n  \t\tvar oRecSLD = app.g.get_sqrecordset(\"general\/get_itsm_sla\",\"kv=\"+strValue);\n\t\tif(oRecSLD.Fetch())\n\t\t\titsm_sla_class_matrix.fk_slad =app.g.get_field(oRecSLD, \"pk_slad_id\");\n\t}\n\telse\n\t{\n\t\titsm_sla_class_matrix.fk_slad = 0;\n\t}\n\t_swdoc.UpdateFormFromData();\n\tvar boolEnable = strValue!=\"\";\n\t\n\t_een(mainform.lbl_priority, boolEnable);\n\t_een(mainform.fld_priority, boolEnable);\n\n}"}]}}},{"appearance":{"width":"360","height":"220","backgroundColor":"#ffffff","fillColour":"#ffffff","textColour":"#000000","font":{"@size":"8","#text":"Arial"}},"javascript":{}}]}}}