{"espForm":{"configuration":{"settings":{"name":"browse_issues","title":"Browse Issues","options":{"allowResize":"true","showMenubar":"false","showToolbar":"false","showStatusBar":"false"}},"javascript":{"methods":{"method":{"name":"(Globals)","code":"var PassedInFilter = \"\";\n\nvar strselectedkeys = \"\";\nvar strselectedpfskeys = \"\";\nvar strselectedother = \"\";\nvar strselectedpfsother = \"\";"}}}},"layouts":{"layout":[{"appearance":{"width":"636","height":"212","backgroundColor":"#f2eedd","fillColour":"#ffffff","textColour":"#000000","font":{"@size":"8","#text":"Arial"}},"controls":{"control":[{"general":{"name":"btn_select","type":"EventButton","flags":{"transparent":"false","xpStyle":"true","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"0","caption":"Select","backgroundColor":"#000000","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"}},"objectPlacement":{"position":{"top":"187","left":"552","right":"632","bottom":"211"},"scaling":{"top":"100","left":"100","right":"100","bottom":"100"}},"controlInfo":{"mouseOverCursor":"Window Default","flags":{"invisible":"false","skipTabStop":"false","disabled":"true","protected":"false","noMacroExpand":"false","multiLine":"false"}}},{"general":{"name":"Rect1","type":"Rectange"},"appearance":{"index":"1","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"0"},"borderStyle":"Rectangle","fillStyle":"Vertical Gradient"},"objectPlacement":{"position":{"top":"10","left":"6","right":"632","bottom":"36"},"scaling":{"top":"0","left":"0","right":"100","bottom":"0"}},"controlInfo":{"mouseOverCursor":"Window Default","properties":{"backgroundColor2":"#dadada"}}},{"general":{"name":"Text1","type":"Text","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"2","caption":"Look for :","backgroundColor":"#e7e4dc","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Right","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"9","left":"9","right":"63","bottom":"35"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"controlInfo":{"mouseOverCursor":"Window Default"}},{"general":{"name":"tb_lookfor","type":"Field"},"appearance":{"index":"3","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"Rectangle"},"objectPlacement":{"position":{"top":"14","left":"64","right":"238","bottom":"32"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"controlInfo":{"mouseOverCursor":"Window Default","type":"Text Edit","textLineCount":"0","textInputFormat":"Text","properties":{"borderColor":"#666699","image":"#eeeeee","disabledBackgroundColor":"#eeeeee"}}},{"general":{"name":"Text2","type":"Text","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"4","caption":"Search In :","backgroundColor":"#e7e4dc","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Right","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"9","left":"244","right":"298","bottom":"35"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"controlInfo":{"mouseOverCursor":"Window Default"}},{"general":{"name":"lb_columns","type":"Field"},"appearance":{"index":"5","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"Rectangle"},"objectPlacement":{"position":{"top":"14","left":"304","right":"478","bottom":"32"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"controlInfo":{"mouseOverCursor":"Window Default","type":"Pick List (Numeric Mode)","flags":{"invisible":"false","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","comboAutoUpdate":"false","comboNewValues":"true","useDDPickList":"false"},"textLineCount":"0","textInputFormat":"Text","properties":{"borderColor":"#666699","image":"#eeeeee","disabledBackgroundColor":"#eeeeee"}}},{"general":{"name":"btn_find","type":"EventButton","flags":{"transparent":"false","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"true","cache":"true","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"6","caption":"Find Now","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"}},"objectPlacement":{"position":{"top":"10","left":"480","right":"535","bottom":"35"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"controlInfo":{"mouseOverCursor":"Window Default","properties":{"backgroundColor":"#0066cc"}}},{"general":{"name":"btn_clear","type":"EventButton","flags":{"transparent":"false","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"true","cache":"true","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"7","caption":"Clear","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"}},"objectPlacement":{"position":{"top":"10","left":"533","right":"576","bottom":"35"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"controlInfo":{"mouseOverCursor":"Window Default","flags":{"invisible":"false","skipTabStop":"false","disabled":"true","protected":"false","noMacroExpand":"false","multiLine":"false"},"properties":{"backgroundColor":"#0066cc"}}},{"general":{"name":"txt_keycol","type":"Text","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"8","caption":"issueref","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Left","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"263","left":"61","right":"144","bottom":"289"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"controlInfo":{"mouseOverCursor":"Window Default","flags":{"invisible":"true","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","multiLine":"false"}}},{"general":{"name":"txt_other","type":"Text","flags":{"transparent":"true","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false"}},"appearance":{"index":"9","caption":"description","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"alignment":"Left","borderStyle":"None","fillStyle":"Solid"},"objectPlacement":{"position":{"top":"292","left":"63","right":"156","bottom":"324"},"scaling":{"top":"0","left":"0","right":"0","bottom":"0"}},"controlInfo":{"mouseOverCursor":"Window Default","flags":{"invisible":"true","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","multiLine":"false"}}},{"general":{"name":"sl_browse","type":"SqlTable","flags":{"transparent":"false","xpStyle":"false","hasShadow":"false","toolbarButtonStyle":"false","cache":"false","hasBorder":"false","hasCheckbox":"false","showHeader":"true","verticalGridLines":"true","horizontalGridLines":"true","autoLoad":"false","allowMultiSelect":"false"}},"appearance":{"index":"10","backgroundColor":"#ffffff","foregroundColor":"#000000","font":{"@size":"8","#text":"Arial"},"borderStyle":"Rectangle"},"objectPlacement":{"position":{"top":"35","left":"6","right":"632","bottom":"184"},"scaling":{"top":"0","left":"0","right":"100","bottom":"100"}},"columns":{"controlInfo":[{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"false","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false","hidden":"false","allowResize":"true","allowSort":"true"},"textLineCount":"0","textInputFormat":"Text","properties":{"column":"issueref"},"name":"Reference","width":"223","image":"-1","dataColumn":"0"},{"mouseOverCursor":"Window Default","type":"Text Edit","flags":{"invisible":"false","readOnly":"false","mandatory":"false","mandatoryLabelBackground":"false","mandatoryLabelText":"false","allowNullValue":"false","skipTabStop":"false","disabled":"false","protected":"false","noMacroExpand":"false","readOnlyInit":"false","autoCompleteField":"false","editUnlimitedText":"false","url":"false","hidden":"false","allowResize":"true","allowSort":"true"},"textLineCount":"0","textInputFormat":"Text","properties":{"column":"description"},"name":"Summary","width":"400","image":"-1","dataColumn":"1"}]},"sortColumn":"2","sortDescending":"false","headerHeight":"16","rowHeight":"16","selectedColor":"#00008b","selectedTextColor":"#ffffff","controlInfo":{"mouseOverCursor":"Window Default","properties":{"sqlSource":"syscache","table":"swissues","newRecordForm":"Form.TfCustomer","editRecordForm":"Form.EfIssueForm","selectionMode":"1"}}}]},"javascript":{"methods":{"method":[{"name":"OnFormLoaded","code":"OnFormLoaded(bDataReloaded)\n{\n\t_swdoc.PassedInFilter = _swdoc.GetArg(\"in_filter\");\n\t\n\tapp._slf(sl_browse , _swdoc.PassedInFilter);\n\tsl_browse.SetRowSelected(0);\n\t\n\t\/\/-- load pick list\n\tvar strPickList = \"\";\n\tfor(var x = 0; x < sl_browse.colCount; x++)\n\t{\n\t\tstrPickList += sl_browse.GetColumnDisplayName(x) + \"^\" + x + \"|\";\n\t\t\n\t}\n\tlb_columns.pickList = strPickList;\n\n}"},{"name":"btn_find_OnPressed","code":"btn_find_OnPressed()\n{\n\t\/\/--\n\tvar op = \" = \";\n\tvar strVal = app.g.pfs(tb_lookfor.text);\n\tvar strCol = sl_browse.GetColumnName(lb_columns.value);\n\t\n\t\n\tif(strVal==\"\") return;\n\tif(strCol==\"\")return;\n\t\n\t\/\/-- if strCol has a dot then split - happens when you dont specify col header\n\tif(strCol.indexOf(\".\")>-1)\n\t{\n\t\tstrCol = strCol.split(\".\")[1];\n\t}\n\n\tif (app.g.dd_isnumeric(sl_browse.table,strCol)==false) \n\t{\n\t\tstrVal = \"'%\" + strVal + \"%'\";\n\t\top = \" like \";\n\t}\n\telse\n\t{\n\t\t\/\/-- handle special fields\n\t\tif(sl_browse.table==\"opencall\" && strCol==\"status\")\n\t\t{\n\t\t\tstrVal = \"(\" + app.get_status_from_text(strVal,true) + \")\";\n\t\t\top = \" in \";\n\t\t}\n\t}\n\n\tvar strFilter = strCol + op + strVal;\n\t\/\/-- apply passed in filter\n\tif(_swdoc.PassedInFilter!=\"\") strFilter += \" and \" + _swdoc.PassedInFilter;\n\tapp._slf(sl_browse , strFilter);\n\tsl_browse.SetRowSelected(0);\n\t\n\tapp._een(btn_clear , true);\n\n}"},{"name":"btn_clear_OnPressed","code":"btn_clear_OnPressed()\n{\n\tapp._ete(tb_lookfor,\"\");\n\t\t\n\tapp._slf(sl_browse , _swdoc.PassedInFilter);\n\tsl_browse.SetRowSelected(0);\n\t\n\tapp._een(btn_clear , false);\n\n\n}"},{"name":"sl_browse_OnItemSelected","code":"sl_browse_OnItemSelected(nRow)\n{\n\n\tapp._een(btn_select , (sl_browse.rowCount()>0));\n\n\n}"},{"name":"btn_select_OnPressed","code":"btn_select_OnPressed()\n{\n\t\/\/-- get key info\n\tvar strQuote = (app.g.dd_isnumeric(sl_browse.table,txt_keycol.text))?\"\":\"'\";\n\t_swdoc.strselectedkeys = app.g.sl_getselected_valuesdel(sl_browse,txt_keycol.text,\",\",\"\", false);\n\t_swdoc.strselectedpfskeys = app.g.sl_getselected_valuesdel(sl_browse,txt_keycol.text,\",\",strQuote, true);\t\n\n\t\/\/-- get other info\n\tstrQuote = (app.g.dd_isnumeric(sl_browse.table,txt_other.text))?\"\":\"'\";\n\t_swdoc.strselectedother = app.g.sl_getselected_valuesdel(sl_browse,txt_other.text,\",\",\"\", false);\n\t_swdoc.strselectedpfsother = app.g.sl_getselected_valuesdel(sl_browse,txt_other.text,\",\",strQuote, true);\t\n\t\n\n\t\n\t\/\/-- test out\n\t\/\/MessageBox(_swdoc.strselectedkeys)\n\t\/\/MessageBox(_swdoc.strselectedpfskeys)\t\n\t\/\/MessageBox(_swdoc.strselectedother)\t\t\t\n\t\/\/MessageBox(_swdoc.strselectedpfsother)\t\t\n\t\n    _swdoc.CloseForm();\n}"}]}}},{"appearance":{"width":"360","height":"220","backgroundColor":"#ffffff","fillColour":"#ffffff","textColour":"#000000","font":{"@size":"8","#text":"Arial"}},"javascript":{}}]}}}